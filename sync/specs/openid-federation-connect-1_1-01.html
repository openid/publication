<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>OpenID Federation for OpenID Connect 1.1 - draft 01</title>
<meta content="Roland Hedberg" name="author">
<meta content="Michael B. Jones" name="author">
<meta content="Giuseppe De Marco" name="author">
<meta content="Andreas Åkre Solberg" name="author">
<meta content="John Bradley" name="author">
<meta content="Vladimir Dzhuvinov" name="author">
<meta content="
       
        A federation can be expressed as an agreement between parties that trust each other.
        In bilateral federations, direct trust can be established between
        two organizations belonging to the same federation.
        In a multilateral federation, bilateral agreements might not be practical,
        in which case, trust can be mediated by a third party.
        That is the model used in this specification.
       
       
        An Entity in the federation must be able to trust that other Entities
        it interacts with belong to the same federation.
        It must also be able to trust that the information the other Entities
        publish about themselves has not been tampered with during transport
        and that it adheres to the federation's policies.
       
       
 This specification contains the protocol-specific functionality defined in OpenID Federation 1.0.
 This includes Entity Type Identifiers and Metadata for OpenID Connect and OAuth 2.0 Entities and Client Registration flows.
 These can be used in multilateral federations for the purpose of establishing trust,
 in combination with the protocol-independent functionality defined in OpenID Federation 1.1.
 This specification introduces no new functionality not present in OpenID Federation 1.0.
       
    " name="description">
<meta content="xml2rfc 3.31.0" name="generator">
<meta content="OpenID" name="keyword">
<meta content="OpenID Connect" name="keyword">
<meta content="Federation" name="keyword">
<meta content="Multilateral Federation" name="keyword">
<meta content="Federation Entity" name="keyword">
<meta content="Federation Operator" name="keyword">
<meta content="Trust Anchor" name="keyword">
<meta content="Trust Chain" name="keyword">
<meta content="Trust Establishment" name="keyword">
<meta content="Trust Mark" name="keyword">
<meta content="openid-federation-connect-1_1" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.31.0
    Python 3.12.3
    ConfigArgParse 1.7.1
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 6.0.2
    platformdirs 4.5.1
    pycountry 24.6.1
    PyYAML 6.0.3
    requests 2.32.5
    wcwidth 0.2.14
    weasyprint 65.0
-->
<link href="openid-federation-connect-1_1.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://static.ietf.org/fonts/noto-sans/import.css'); /* Sans-serif */
@import url('https://static.ietf.org/fonts/noto-serif/import.css'); /* Serif (print) */
@import url('https://static.ietf.org/fonts/roboto-mono/import.css'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
@media print {
  svg {
    max-height: 850px;
    max-width: 660px;
  }
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > blockquote:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left"></td>
<td class="center">OpenID Federation for OpenID Connect 1.1</td>
<td class="right">January 2026</td>
</tr></thead>
<tfoot><tr>
<td class="left">Hedberg, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">OpenID Connect Working Group</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2026-01-20" class="published">20 January 2026</time>
    </dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Hedberg</div>
<div class="org">independent</div>
</div>
<div class="author">
      <div class="author-name">M.B. Jones, <span class="editor">Ed.</span>
</div>
<div class="org">Self-Issued Consulting</div>
</div>
<div class="author">
      <div class="author-name">G. De Marco</div>
<div class="org">independent</div>
</div>
<div class="author">
      <div class="author-name">A.Å. Solberg</div>
<div class="org">Sikt</div>
</div>
<div class="author">
      <div class="author-name">J. Bradley</div>
<div class="org">Yubico</div>
</div>
<div class="author">
      <div class="author-name">V. Dzhuvinov</div>
<div class="org">Connect2id</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">OpenID Federation for OpenID Connect 1.1 - draft 01</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
        A federation can be expressed as an agreement between parties that trust each other.
        In bilateral federations, direct trust can be established between
        two organizations belonging to the same federation.
        In a multilateral federation, bilateral agreements might not be practical,
        in which case, trust can be mediated by a third party.
        That is the model used in this specification.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
        An Entity in the federation must be able to trust that other Entities
        it interacts with belong to the same federation.
        It must also be able to trust that the information the other Entities
        publish about themselves has not been tampered with during transport
        and that it adheres to the federation's policies.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">
 This specification contains the protocol-specific functionality defined in OpenID Federation 1.0.
 This includes Entity Type Identifiers and Metadata for OpenID Connect and OAuth 2.0 Entities and Client Registration flows.
 These can be used in multilateral federations for the purpose of establishing trust,
 in combination with the protocol-independent functionality defined in OpenID Federation 1.1.
 This specification introduces no new functionality not present in OpenID Federation 1.0.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-requirements-notation-and-c" class="internal xref">Requirements Notation and Conventions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-overall-architecture" class="internal xref">Overall Architecture</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-cryptographic-trust-mechani" class="internal xref">Cryptographic Trust Mechanism</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-entity-statement" class="internal xref">Entity Statement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-entity-statement-claims" class="internal xref">Entity Statement Claims</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-claims-used-in-explicit-reg" class="internal xref">Claims Used in Explicit Registration Requests</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="auto internal xref">3.1.2</a>.  <a href="#name-claims-used-in-explicit-regi" class="internal xref">Claims Used in Explicit Registration Responses</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-entity-statement-validation" class="internal xref">Entity Statement Validation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-entity-statement-example" class="internal xref">Entity Statement Example</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-trust-chain" class="internal xref">Trust Chain</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-metadata" class="internal xref">Metadata</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-entity-type-identifiers" class="internal xref">Entity Type Identifiers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="auto internal xref">5.1.1</a>.  <a href="#name-openid-connect-relying-part" class="internal xref">OpenID Connect Relying Party</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="auto internal xref">5.1.2</a>.  <a href="#name-openid-connect-openid-provi" class="internal xref">OpenID Connect OpenID Provider</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a href="#section-5.1.3" class="auto internal xref">5.1.3</a>.  <a href="#name-oauth-authorization-server" class="internal xref">OAuth Authorization Server</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.4">
                    <p id="section-toc.1-1.5.2.1.2.4.1"><a href="#section-5.1.4" class="auto internal xref">5.1.4</a>.  <a href="#name-oauth-client" class="internal xref">OAuth Client</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.5">
                    <p id="section-toc.1-1.5.2.1.2.5.1"><a href="#section-5.1.5" class="auto internal xref">5.1.5</a>.  <a href="#name-oauth-protected-resource" class="internal xref">OAuth Protected Resource</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-federation-policy" class="internal xref">Federation Policy</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-metadata-policy" class="internal xref">Metadata Policy</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-constraints" class="internal xref">Constraints</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-trust-marks" class="internal xref">Trust Marks</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-federation-endpoints" class="internal xref">Federation Endpoints</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-obtaining-federation-entity" class="internal xref">Obtaining Federation Entity Configuration Information</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-resolving-the-trust-chain-a" class="internal xref">Resolving the Trust Chain and Metadata</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-updating-metadata-key-rollo" class="internal xref">Updating Metadata, Key Rollover, and Revocation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-openid-connect-client-regis" class="internal xref">OpenID Connect Client Registration</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="auto internal xref">12.1</a>.  <a href="#name-automatic-registration" class="internal xref">Automatic Registration</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.1">
                    <p id="section-toc.1-1.12.2.1.2.1.1"><a href="#section-12.1.1" class="auto internal xref">12.1.1</a>.  <a href="#name-authentication-request" class="internal xref">Authentication Request</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.1.2.1">
                        <p id="section-toc.1-1.12.2.1.2.1.2.1.1"><a href="#section-12.1.1.1" class="auto internal xref">12.1.1.1</a>.  <a href="#name-using-a-request-object" class="internal xref">Using a Request Object</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.1.2.1.2.1">
                            <p id="section-toc.1-1.12.2.1.2.1.2.1.2.1.1"><a href="#section-12.1.1.1.1" class="auto internal xref">12.1.1.1.1</a>.  <a href="#name-authorization-request-with-" class="internal xref">Authorization Request with a Trust Chain</a></p>
</li>
                          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.1.2.1.2.2">
                            <p id="section-toc.1-1.12.2.1.2.1.2.1.2.2.1"><a href="#section-12.1.1.1.2" class="auto internal xref">12.1.1.1.2</a>.  <a href="#name-processing-the-authenticati" class="internal xref">Processing the Authentication Request</a></p>
</li>
                        </ul>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.1.2.2">
                        <p id="section-toc.1-1.12.2.1.2.1.2.2.1"><a href="#section-12.1.1.2" class="auto internal xref">12.1.1.2</a>.  <a href="#name-using-pushed-authorization" class="internal xref">Using Pushed Authorization</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.1.2.2.2.1">
                            <p id="section-toc.1-1.12.2.1.2.1.2.2.2.1.1"><a href="#section-12.1.1.2.1" class="auto internal xref">12.1.1.2.1</a>.  <a href="#name-processing-the-pushed-authe" class="internal xref">Processing the Pushed Authentication Request</a></p>
</li>
                        </ul>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.2">
                    <p id="section-toc.1-1.12.2.1.2.2.1"><a href="#section-12.1.2" class="auto internal xref">12.1.2</a>.  <a href="#name-successful-authentication-r" class="internal xref">Successful Authentication Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.3">
                    <p id="section-toc.1-1.12.2.1.2.3.1"><a href="#section-12.1.3" class="auto internal xref">12.1.3</a>.  <a href="#name-authentication-error-respon" class="internal xref">Authentication Error Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.4">
                    <p id="section-toc.1-1.12.2.1.2.4.1"><a href="#section-12.1.4" class="auto internal xref">12.1.4</a>.  <a href="#name-automatic-registration-and-" class="internal xref">Automatic Registration and Client Authentication</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.5">
                    <p id="section-toc.1-1.12.2.1.2.5.1"><a href="#section-12.1.5" class="auto internal xref">12.1.5</a>.  <a href="#name-possible-other-uses-of-auto" class="internal xref">Possible Other Uses of Automatic Registration</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="auto internal xref">12.2</a>.  <a href="#name-explicit-registration" class="internal xref">Explicit Registration</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.1">
                    <p id="section-toc.1-1.12.2.2.2.1.1"><a href="#section-12.2.1" class="auto internal xref">12.2.1</a>.  <a href="#name-explicit-client-registratio" class="internal xref">Explicit Client Registration Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.2">
                    <p id="section-toc.1-1.12.2.2.2.2.1"><a href="#section-12.2.2" class="auto internal xref">12.2.2</a>.  <a href="#name-processing-explicit-client-" class="internal xref">Processing Explicit Client Registration Request by OP</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.3">
                    <p id="section-toc.1-1.12.2.2.2.3.1"><a href="#section-12.2.3" class="auto internal xref">12.2.3</a>.  <a href="#name-successful-explicit-client-" class="internal xref">Successful Explicit Client Registration Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.4">
                    <p id="section-toc.1-1.12.2.2.2.4.1"><a href="#section-12.2.4" class="auto internal xref">12.2.4</a>.  <a href="#name-explicit-client-registration" class="internal xref">Explicit Client Registration Error Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.5">
                    <p id="section-toc.1-1.12.2.2.2.5.1"><a href="#section-12.2.5" class="auto internal xref">12.2.5</a>.  <a href="#name-processing-explicit-client-r" class="internal xref">Processing Explicit Client Registration Response by RP</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.6">
                    <p id="section-toc.1-1.12.2.2.2.6.1"><a href="#section-12.2.6" class="auto internal xref">12.2.6</a>.  <a href="#name-explicit-client-registration-" class="internal xref">Explicit Client Registration Lifetime</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#section-12.3" class="auto internal xref">12.3</a>.  <a href="#name-registration-validity-and-t" class="internal xref">Registration Validity and Trust Reevaluation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4">
                <p id="section-toc.1-1.12.2.4.1"><a href="#section-12.4" class="auto internal xref">12.4</a>.  <a href="#name-differences-between-automat" class="internal xref">Differences between Automatic Registration and Explicit Registration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.5">
                <p id="section-toc.1-1.12.2.5.1"><a href="#section-12.5" class="auto internal xref">12.5</a>.  <a href="#name-rationale-for-trust-chains-" class="internal xref">Rationale for Trust Chains in the Request</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-general-purpose-jwt-claims" class="internal xref">General-Purpose JWT Claims</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="auto internal xref">14</a>. <a href="#name-claims-languages-and-script" class="internal xref">Claims Languages and Scripts</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="auto internal xref">15</a>. <a href="#name-media-types" class="internal xref">Media Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#section-15.1" class="auto internal xref">15.1</a>.  <a href="#name-application-explicit-regist" class="internal xref">"application/explicit-registration-response+jwt" Media Type</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="auto internal xref">16</a>. <a href="#name-string-operations" class="internal xref">String Operations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#section-17" class="auto internal xref">17</a>. <a href="#name-implementation-consideratio" class="internal xref">Implementation Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#section-18" class="auto internal xref">18</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18.2.1">
                <p id="section-toc.1-1.18.2.1.1"><a href="#section-18.1" class="auto internal xref">18.1</a>.  <a href="#name-denial-of-service-attack-pr" class="internal xref">Denial-of-Service Attack Prevention</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19">
            <p id="section-toc.1-1.19.1"><a href="#section-19" class="auto internal xref">19</a>. <a href="#name-privacy-considerations" class="internal xref">Privacy Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.20">
            <p id="section-toc.1-1.20.1"><a href="#section-20" class="auto internal xref">20</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.21">
            <p id="section-toc.1-1.21.1"><a href="#section-21" class="auto internal xref">21</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.21.2.1">
                <p id="section-toc.1-1.21.2.1.1"><a href="#section-21.1" class="auto internal xref">21.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.21.2.2">
                <p id="section-toc.1-1.21.2.2.1"><a href="#section-21.2" class="auto internal xref">21.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22">
            <p id="section-toc.1-1.22.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-examples-building-and-using" class="internal xref">Examples Building and Using Trust Chains</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.1">
                <p id="section-toc.1-1.22.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-setting-up-a-federation" class="internal xref">Setting Up a Federation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2">
                <p id="section-toc.1-1.22.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-the-ligo-wiki-discovers-the" class="internal xref">The LIGO Wiki Discovers the OP's Metadata</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2.2.1">
                    <p id="section-toc.1-1.22.2.2.2.1.1"><a href="#appendix-A.2.1" class="auto internal xref">A.2.1</a>.  <a href="#name-entity-configuration-for-ht" class="internal xref">Entity Configuration for https://op.umu.se</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2.2.2">
                    <p id="section-toc.1-1.22.2.2.2.2.1"><a href="#appendix-A.2.2" class="auto internal xref">A.2.2</a>.  <a href="#name-entity-configuration-for-htt" class="internal xref">Entity Configuration for https://umu.se</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2.2.3">
                    <p id="section-toc.1-1.22.2.2.2.3.1"><a href="#appendix-A.2.3" class="auto internal xref">A.2.3</a>.  <a href="#name-subordinate-statement-publi" class="internal xref">Subordinate Statement Published by https://umu.se about https://op.umu.se</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2.2.4">
                    <p id="section-toc.1-1.22.2.2.2.4.1"><a href="#appendix-A.2.4" class="auto internal xref">A.2.4</a>.  <a href="#name-entity-configuration-for-http" class="internal xref">Entity Configuration for https://swamid.se</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2.2.5">
                    <p id="section-toc.1-1.22.2.2.2.5.1"><a href="#appendix-A.2.5" class="auto internal xref">A.2.5</a>.  <a href="#name-subordinate-statement-publis" class="internal xref">Subordinate Statement Published by https://swamid.se about https://umu.se</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2.2.6">
                    <p id="section-toc.1-1.22.2.2.2.6.1"><a href="#appendix-A.2.6" class="auto internal xref">A.2.6</a>.  <a href="#name-entity-configuration-for-https" class="internal xref">Entity Configuration for https://edugain.geant.org</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2.2.7">
                    <p id="section-toc.1-1.22.2.2.2.7.1"><a href="#appendix-A.2.7" class="auto internal xref">A.2.7</a>.  <a href="#name-subordinate-statement-publish" class="internal xref">Subordinate Statement Published by https://edugain.geant.org about https://swamid.se</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.2.2.8">
                    <p id="section-toc.1-1.22.2.2.2.8.1"><a href="#appendix-A.2.8" class="auto internal xref">A.2.8</a>.  <a href="#name-op-resolved-metadata-for-ht" class="internal xref">OP Resolved Metadata for https://op.umu.se</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.3">
                <p id="section-toc.1-1.22.2.3.1"><a href="#appendix-A.3" class="auto internal xref">A.3</a>.  <a href="#name-client-registration-method-" class="internal xref">Client Registration Method Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.3.2.1">
                    <p id="section-toc.1-1.22.2.3.2.1.1"><a href="#appendix-A.3.1" class="auto internal xref">A.3.1</a>.  <a href="#name-rp-sends-authentication-req" class="internal xref">RP Sends Authentication Request (Automatic Client Registration)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.3.2.1.2.1">
                        <p id="section-toc.1-1.22.2.3.2.1.2.1.1"><a href="#appendix-A.3.1.1" class="auto internal xref">A.3.1.1</a>.  <a href="#name-op-fetches-entity-statement" class="internal xref">OP Fetches Entity Statements</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.3.2.1.2.2">
                        <p id="section-toc.1-1.22.2.3.2.1.2.2.1"><a href="#appendix-A.3.1.2" class="auto internal xref">A.3.1.2</a>.  <a href="#name-op-evaluates-the-rp-metadat" class="internal xref">OP Evaluates the RP Metadata</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22.2.3.2.2">
                    <p id="section-toc.1-1.22.2.3.2.2.1"><a href="#appendix-A.3.2" class="auto internal xref">A.3.2</a>.  <a href="#name-rp-starts-with-client-regis" class="internal xref">RP Starts with Client Registration (Explicit Client Registration)</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.23">
            <p id="section-toc.1-1.23.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-notices" class="internal xref">Notices</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.24">
            <p id="section-toc.1-1.24.1"><a href="#appendix-C" class="auto internal xref">Appendix C</a>.  <a href="#name-document-history" class="internal xref">Document History</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.25">
            <p id="section-toc.1-1.25.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.25.2.1">
                <p id="section-toc.1-1.25.2.1.1"><a href="#appendix-D.1" class="auto internal xref"></a><a href="#name-openid-federation-for-openi" class="internal xref">OpenID Federation for OpenID Connect 1.1 Acknowledgements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.25.2.2">
                <p id="section-toc.1-1.25.2.2.1"><a href="#appendix-D.2" class="auto internal xref"></a><a href="#name-openid-federation-10-acknow" class="internal xref">OpenID Federation 1.0 Acknowledgements</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.26">
            <p id="section-toc.1-1.26.1"><a href="#appendix-E" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="Introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
 This specification describes how two Entities using
 <span><a href="#OpenID.Core" class="internal xref">OpenID Connect</a> [<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span> or
 <span><a href="#RFC6749" class="internal xref">OAuth 2.0</a> [<a href="#RFC6749" class="cite xref">RFC6749</a>]</span> can participate in
 multilateral federations for the purpose of establishing trust,
 using the protocol-independent Federation constructs defined in
 <span><a href="#OpenID.Federation-1.1" class="internal xref">OpenID Federation 1.1</a> [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<div id="requirements-language">
<section id="section-1.1">
        <h3 id="name-requirements-notation-and-c">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-notation-and-c" class="section-name selfRef">Requirements Notation and Conventions</a>
        </h3>
<p id="section-1.1-1">
          The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
          "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL"
          in this document are to be interpreted as described in
          BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span>
   when, and only when, they appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">
   All uses of JSON Web Signature (JWS) <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>
   and JSON Web Encryption (JWE) <span>[<a href="#RFC7516" class="cite xref">RFC7516</a>]</span>
   data structures in this specification utilize
   the JWS Compact Serialization or the JWE Compact Serialization;
   the JWS JSON Serialization and the JWE JSON Serialization are not used.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Terminology">
<section id="section-1.2">
        <h3 id="name-terminology">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.2-1">
          This specification uses the terms "Claim",
          "Claim Name", "Claim Value", "JSON Web Token (JWT)", and "JWT Claims Set"
          defined by <span><a href="#RFC7519" class="internal xref">JSON Web Token (JWT)</a> [<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>,
          the terms "OpenID Provider (OP)" and "Relying Party (RP)" defined
          by <span><a href="#OpenID.Core" class="internal xref">OpenID Connect Core 1.0</a> [<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>, and
   the terms "Authorization Endpoint", "Authorization Server (AS)",
   "Client", "Client Authentication", "Client Identifier", "Client Secret",
   "Grant Type", "Protected Resource", "Redirection URI", "Refresh Token",
   "Resource Server (RS)", and "Token Endpoint"
   defined by <span><a href="#RFC6749" class="internal xref">OAuth 2.0</a> [<a href="#RFC6749" class="cite xref">RFC6749</a>]</span>.
   It incorporates the terms defined in
   <span><a href="https://openid.net/specs/openid-federation-1_1.html#Terminology" class="relref">Section 1.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>
   by reference.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="architecture">
<section id="section-2">
      <h2 id="name-overall-architecture">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overall-architecture" class="section-name selfRef">Overall Architecture</a>
      </h2>
<p id="section-2-1">
 This specification defines how the
 protocol-independent Federation constructs defined in
 <span><a href="#OpenID.Federation-1.1" class="internal xref">OpenID Federation 1.1</a> [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>
 can be used with the
 <span><a href="#OpenID.Core" class="internal xref">OpenID Connect</a> [<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span> and
 <span><a href="#RFC6749" class="internal xref">OAuth 2.0</a> [<a href="#RFC6749" class="cite xref">RFC6749</a>]</span> protocols.
 Those constructs include Entity Statements, Trust Chains,
 Trust Anchors, Metadata, and Trust Marks.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
 Specifically, it defines Entity Types for OpenID Connect and OAuth 2.0
 and metadata values for them.
 It also defines extensions to these protocols used for establishing trust
 with <span><a href="#OpenID.Federation-1.1" class="internal xref">OpenID Federation 1.1</a> [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<div id="CryptographicTrustMechanism">
<section id="section-2.1">
        <h3 id="name-cryptographic-trust-mechani">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-cryptographic-trust-mechani" class="section-name selfRef">Cryptographic Trust Mechanism</a>
        </h3>
<p id="section-2.1-1">
   The objects defined by this specification
   that are used to establish cryptographic trust between participants
   are secured as signed JWTs using public key cryptography,
   as described in
   <span><a href="https://openid.net/specs/openid-federation-1_1.html#CryptographicTrustMechanism" class="relref">Section 2.1</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.
   Note that this cryptographic trust mechanism intentionally does not rely on
   Web PKI / TLS <span>[<a href="#RFC9525" class="cite xref">RFC9525</a>]</span> certificates for signing keys.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="entity-statement">
<section id="section-3">
      <h2 id="name-entity-statement">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-entity-statement" class="section-name selfRef">Entity Statement</a>
      </h2>
<p id="section-3-1">
   Entity Statements are used in this specification as defined in
   <span><a href="https://openid.net/specs/openid-federation-1_1.html#entity-statement" class="relref">Section 3</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="ESClaims">
<section id="section-3.1">
        <h3 id="name-entity-statement-claims">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-entity-statement-claims" class="section-name selfRef">Entity Statement Claims</a>
        </h3>
<p id="section-3.1-1">
   This specification defines the following additional Claims
   for use in Entity Statements.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<div id="explicit-reg-request-specific">
<section id="section-3.1.1">
          <h4 id="name-claims-used-in-explicit-reg">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-claims-used-in-explicit-reg" class="section-name selfRef">Claims Used in Explicit Registration Requests</a>
          </h4>
<span class="break"></span><dl class="dlNewline" id="section-3.1.1-1">
            <dt id="section-3.1.1-1.1">aud</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.1-1.2">
       OPTIONAL.
       The "aud" (audience) value MUST be the Entity Identifier of the OP
       and MUST NOT include any other values.
       This Claim is used in Explicit Registration requests;
       it is not a general Entity Statement Claim.<a href="#section-3.1.1-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="explicit-reg-response-specific">
<section id="section-3.1.2">
          <h4 id="name-claims-used-in-explicit-regi">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-claims-used-in-explicit-regi" class="section-name selfRef">Claims Used in Explicit Registration Responses</a>
          </h4>
<span class="break"></span><dl class="dlNewline" id="section-3.1.2-1">
            <dt id="section-3.1.2-1.1">aud</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.2-1.2">
       OPTIONAL.
       The "aud" (audience) value MUST be the Entity Identifier of the RP
       and MUST NOT include any other values.
       This Claim is used in Explicit Registration responses;
       it is not a general Entity Statement Claim.<a href="#section-3.1.2-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-1.3">trust_anchor</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.2-1.4">
              OPTIONAL.  Its value MUST be the Entity Identifier of the Trust Anchor
                that the OP selected to process the Explicit Registration request,
 as specified in <a href="#trust_anchor-claim" class="auto internal xref">Section 12.2.3</a>.
 This Claim is specific to Explicit Registration responses;
 it is not a general Entity Statement Claim.<a href="#section-3.1.2-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="ESValidation">
<section id="section-3.2">
        <h3 id="name-entity-statement-validation">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-entity-statement-validation" class="section-name selfRef">Entity Statement Validation</a>
        </h3>
<p id="section-3.2-1">
     Entity Statements MUST be validated in the manner defined in
     <span><a href="https://openid.net/specs/openid-federation-1_1.html#ESValidation" class="relref">Section 3.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.
     These additional validation steps are defined by this specification.
     These steps MAY be performed in a different order, provided that
     the result - accepting or rejecting the Entity Statement - is the same.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.2-2">
<li id="section-3.2-2.1">
            <p id="section-3.2-2.1.1">
 If the <code>aud</code> Claim is present,
 if the Entity Statement is an Explicit Registration request,
 validate that the value is the Entity Identifier for an OP,
 or if the Entity Statement is an Explicit Registration request,
 validate that the value is the Entity Identifier for an RP.
 This Claim MUST NOT be present in Entity Statements that are not
 Explicit Registration requests or responses
 unless its use is otherwise specified in an extension being employed.<a href="#section-3.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-3.2-2.2">
            <p id="section-3.2-2.2.1">
 If the <code>trust_anchor</code> Claim is present,
 validate that its value is a URL
 using the <code>https</code> scheme.
 Implementations SHOULD validate that the Entity Identifier matches
 one of the Trust Anchors configured for the deployment.
 Furthermore, implementations SHOULD validate that the
 Entity Configuration for the Entity Identifier contains
 information compatible with the configured Trust Anchor information
 - especially the keys.
 This Claim MUST NOT be present in Entity Statements that are not
 Explicit Registration responses
 unless its use is otherwise specified in an extension being employed.<a href="#section-3.2-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<p id="section-3.2-3">
     If any of these validation steps fail,
     the Entity Statement MUST be rejected.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="es_example">
<section id="section-3.3">
        <h3 id="name-entity-statement-example">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-entity-statement-example" class="section-name selfRef">Entity Statement Example</a>
        </h3>
<p id="section-3.3-1">
       See <span><a href="https://openid.net/specs/openid-federation-1_1.html#es_example" class="relref">Section 3.3</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>
       for an example Entity Statement.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="trust_chain">
<section id="section-4">
      <h2 id="name-trust-chain">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-trust-chain" class="section-name selfRef">Trust Chain</a>
      </h2>
<p id="section-4-1">
   Trust Chains are used in this specification as defined in
   <span><a href="https://openid.net/specs/openid-federation-1_1.html#trust_chain" class="relref">Section 4</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="metadata">
<section id="section-5">
      <h2 id="name-metadata">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-metadata" class="section-name selfRef">Metadata</a>
      </h2>
<p id="section-5-1">
 Metadata is used in this specification as defined in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#metadata" class="relref">Section 5</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.
 This section extends those definitions by adding Entity Types and
 metadata values for use with OpenID Connect and OAuth 2.0.
 It uses existing OpenID Connect and OAuth 2.0 metadata standards
 that are applicable to each Entity Type.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="entity_types">
<section id="section-5.1">
        <h3 id="name-entity-type-identifiers">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-entity-type-identifiers" class="section-name selfRef">Entity Type Identifiers</a>
        </h3>
<p id="section-5.1-1">
      The Entity Type Identifier uniquely identifies the Entity Type of a
      federation participant and the metadata format for that Entity Type. This
      section defines Entity Type Identifiers for OpenID Connect and OAuth 2.0
      Federation Entities.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<div id="RP_metadata">
<section id="section-5.1.1">
          <h4 id="name-openid-connect-relying-part">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-openid-connect-relying-part" class="section-name selfRef">OpenID Connect Relying Party</a>
          </h4>
<p id="section-5.1.1-1">
          The Entity Type Identifier is
          <code>openid_relying_party</code>.<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1.1-2">
          All parameters defined in Section 2 of
          <span><a href="#OpenID.Registration" class="internal xref">OpenID Connect Dynamic Client Registration 1.0</a> [<a href="#OpenID.Registration" class="cite xref">OpenID.Registration</a>]</span>,
   in <span>[<a href="#OpenID.RP.Choices" class="cite xref">OpenID.RP.Choices</a>]</span>,
          and in <span><a href="https://openid.net/specs/openid-federation-1_1.html#common_metadata" class="relref">Section 5.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span> are applicable,
   as well as additional parameters registered in the
   IANA "OAuth Dynamic Client Registration Metadata" registry
   <span>[<a href="#IANA.OAuth.Parameters" class="cite xref">IANA.OAuth.Parameters</a>]</span>,
   excluding those parameters that are defined in the registry solely for use in
   registration responses (for example, <code>client_secret</code>).<a href="#section-5.1.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1.1-3">
          In addition, the following RP metadata parameter is defined:<a href="#section-5.1.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-5.1.1-4">
            <dt id="section-5.1.1-4.1">client_registration_types</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.1-4.2">
              RECOMMENDED. An array of strings specifying the client registration
              types the RP supports. Values defined by this specification
              are
              <code>automatic</code>
              and <code>explicit</code>.
       Additional values MAY be defined and used, without restriction by this specification.<a href="#section-5.1.1-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.1.1-5" class="keepWithNext">
     The following is a non-normative example of the JWT Claims Set for an RP's Entity Configuration:<a href="#section-5.1.1-5" class="pilcrow">¶</a></p>
<span id="name-example-relying-party-entit"></span><figure id="figure-1">
            <div class="alignLeft art-text artwork" id="section-5.1.1-6.1">
<pre>
    {
      "iss": "https://rp.sunet.se",
      "sub": "https://rp.sunet.se",
      "iat": 1516239022,
      "exp": 1516843822,
      "metadata": {
        "openid_relying_party": {
          "application_type": "web",
          "redirect_uris": [
            "https://rp.sunet.se/callback"
          ],
          "organization_name": "SUNET",
          "logo_uri": "https://www.sunet.se/sunet/images/32x32.png",
          "grant_types": [
            "authorization_code",
            "implicit"
          ],
          "signed_jwks_uri": "https://rp.sunet.se/signed_jwks.jose",
          "jwks_uri": "https://rp.sunet.se/jwks.json",
          "client_registration_types": ["automatic"]
        }
      },
      "jwks": {
        "keys": [
          {
            "alg": "RS256",
            "e": "AQAB",
            "kid": "Ge7hs3smulgio8glvURJadmj...",
            "kty": "RSA",
            "n": "iE0ZGqI4TNopx52dGHm0EYhl...",
            "use": "sig"
          }
        ]
      },
      "authority_hints": [
        "https://edugain.org/federation"
      ]
    }

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-example-relying-party-entit" class="selfRef">Example Relying Party Entity Configuration JWT Claims Set</a>
            </figcaption></figure>
</section>
</div>
<div id="OP_metadata">
<section id="section-5.1.2">
          <h4 id="name-openid-connect-openid-provi">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-openid-connect-openid-provi" class="section-name selfRef">OpenID Connect OpenID Provider</a>
          </h4>
<p id="section-5.1.2-1">
          The Entity Type Identifier is
          <code>openid_provider</code>.<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
<p id="section-5.1.2-2">
          All parameters defined in Section 3 of
          <span><a href="#OpenID.Discovery" class="internal xref">OpenID Connect Discovery 1.0</a> [<a href="#OpenID.Discovery" class="cite xref">OpenID.Discovery</a>]</span>
          and <span><a href="https://openid.net/specs/openid-federation-1_1.html#common_metadata" class="relref">Section 5.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span> are applicable,
   as well as additional parameters registered in the
   IANA "OAuth Authorization Server Metadata" registry
   <span>[<a href="#IANA.OAuth.Parameters" class="cite xref">IANA.OAuth.Parameters</a>]</span>.
   For instance, the <code>require_signed_request_object</code>
   and <code>require_pushed_authorization_requests</code>
   metadata parameters can be used.<a href="#section-5.1.2-2" class="pilcrow">¶</a></p>
<p id="section-5.1.2-3">
          The <code>issuer</code> parameter value
          in the <code>openid_provider</code> metadata MUST
          match the Federation Entity Identifier
          (the <code>iss</code> parameter within the Entity Configuration).<a href="#section-5.1.2-3" class="pilcrow">¶</a></p>
<p id="section-5.1.2-4">
          In addition, the following OP metadata parameters are defined:<a href="#section-5.1.2-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-5.1.2-5">
            <dt id="section-5.1.2-5.1">client_registration_types_supported</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.2-5.2">
              RECOMMENDED. An array of strings specifying the client registration
              types the OP supports. Values defined by this specification are
              <code>automatic</code>
              and <code>explicit</code>.
       Additional values MAY be defined and used, without restriction by this specification.<a href="#section-5.1.2-5.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.1.2-5.3">federation_registration_endpoint</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.2-5.4">
              OPTIONAL.
              URL of the OP's federation-specific Dynamic Client Registration
              Endpoint. If the OP supports Explicit Client Registration Endpoint
              this URL MUST use the <code>https</code>
              scheme and MAY contain port,
              path, and query parameter components;
              it MUST NOT contain a fragment component.
              If the OP supports Explicit Client
              Registration as described in <a href="#explicit" class="auto internal xref">Section 12.2</a>,
              then this Claim is REQUIRED.<a href="#section-5.1.2-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.1.2-6" class="keepWithNext">
     The following is a non-normative example of the JWT Claims Set for an OP's Entity Configuration:<a href="#section-5.1.2-6" class="pilcrow">¶</a></p>
<span id="name-example-openid-provider-ent"></span><figure id="figure-2">
            <div class="alignLeft art-text artwork" id="section-5.1.2-7.1">
<pre>
{
   "iss": "https://op.umu.se",
   "sub": "https://op.umu.se",
   "exp": 1568397247,
   "iat": 1568310847,
   "metadata":{
      "openid_provider":{
         "issuer": "https://op.umu.se",
         "signed_jwks_uri": "https://op.umu.se/signed_jwks.jose",
         "authorization_endpoint": "https://op.umu.se/authorization",
         "client_registration_types_supported":[
            "automatic",
            "explicit"
         ],
         "grant_types_supported":[
            "authorization_code",
            "implicit",
            "urn:ietf:params:oauth:grant-type:jwt-bearer"
         ],
         "id_token_signing_alg_values_supported":[
            "ES256",
            "RS256"
         ],
         "logo_uri": "https://www.umu.se/img/umu-logo-left-neg-SE.svg",
         "op_policy_uri": "https://www.umu.se/en/legal-information/",
         "response_types_supported":[
            "code",
            "code id_token",
            "token"
         ],
         "subject_types_supported":[
            "pairwise",
            "public"
         ],
         "token_endpoint": "https://op.umu.se/token",
         "federation_registration_endpoint": "https://op.umu.se/fedreg",
         "token_endpoint_auth_methods_supported":[
            "client_secret_post",
            "client_secret_basic",
            "client_secret_jwt",
            "private_key_jwt"
         ],
         "pushed_authorization_request_endpoint": "https://op.umu.se/par",
         "request_object_signing_alg_values_supported": [
            "ES256",
            "RS256"
         ],
         "token_endpoint_auth_signing_alg_values_supported": [
            "ES256",
            "RS256"
         ]
      }
   },
   "authority_hints":[
      "https://umu.se"
   ],
   "jwks":{
      "keys":[
         {
            "e": "AQAB",
            "kid": "dEEtRjlzY3djcENuT01wOGxrZlkxb3RIQVJlMTY0...",
            "kty": "RSA",
            "n": "x97YKqc9Cs-DNtFrQ7_vhXoH9bwkDWW6En2jJ044yH..."
         }
      ]
   }
}
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-example-openid-provider-ent" class="selfRef">Example OpenID Provider Entity Configuration JWT Claims Set</a>
            </figcaption></figure>
</section>
</div>
<div id="oauth-as">
<section id="section-5.1.3">
          <h4 id="name-oauth-authorization-server">
<a href="#section-5.1.3" class="section-number selfRef">5.1.3. </a><a href="#name-oauth-authorization-server" class="section-name selfRef">OAuth Authorization Server</a>
          </h4>
<p id="section-5.1.3-1">
          The Entity Type Identifier is
          <code>oauth_authorization_server</code>.<a href="#section-5.1.3-1" class="pilcrow">¶</a></p>
<p id="section-5.1.3-2">
          All parameters defined in Section 2 of
          <span>[<a href="#RFC8414" class="cite xref">RFC8414</a>]</span>
          and <span><a href="https://openid.net/specs/openid-federation-1_1.html#common_metadata" class="relref">Section 5.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span> are applicable,
   as well as additional parameters registered in the
   IANA "OAuth Authorization Server Metadata" registry
   <span>[<a href="#IANA.OAuth.Parameters" class="cite xref">IANA.OAuth.Parameters</a>]</span>.<a href="#section-5.1.3-2" class="pilcrow">¶</a></p>
<p id="section-5.1.3-3">
          The <code>issuer</code> parameter value
          in the <code>oauth_authorization_server</code> metadata MUST
          match the Federation Entity Identifier
          (the <code>iss</code> Claim in the Entity Configuration).<a href="#section-5.1.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="oauth-client">
<section id="section-5.1.4">
          <h4 id="name-oauth-client">
<a href="#section-5.1.4" class="section-number selfRef">5.1.4. </a><a href="#name-oauth-client" class="section-name selfRef">OAuth Client</a>
          </h4>
<p id="section-5.1.4-1">
          The Entity Type Identifier is
          <code>oauth_client</code>.<a href="#section-5.1.4-1" class="pilcrow">¶</a></p>
<p id="section-5.1.4-2">
          All parameters defined in Section 2 of
          <span><a href="#RFC7591" class="internal xref">OAuth 2.0 Dynamic Client Registration Protocol</a> [<a href="#RFC7591" class="cite xref">RFC7591</a>]</span>
          and <span><a href="https://openid.net/specs/openid-federation-1_1.html#common_metadata" class="relref">Section 5.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span> are applicable,
   as well as additional parameters registered in the
   IANA "OAuth Dynamic Client Registration Metadata" registry
   <span>[<a href="#IANA.OAuth.Parameters" class="cite xref">IANA.OAuth.Parameters</a>]</span>.<a href="#section-5.1.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="oauth-resource">
<section id="section-5.1.5">
          <h4 id="name-oauth-protected-resource">
<a href="#section-5.1.5" class="section-number selfRef">5.1.5. </a><a href="#name-oauth-protected-resource" class="section-name selfRef">OAuth Protected Resource</a>
          </h4>
<p id="section-5.1.5-1">
          The Entity Type Identifier is
          <code>oauth_resource</code>.
   The common metadata parameters defined in <span><a href="https://openid.net/specs/openid-federation-1_1.html#common_metadata" class="relref">Section 5.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span> are applicable.
   In addition,
   deployments MAY use the protected resource metadata parameters
   defined in <span>[<a href="#RFC9728" class="cite xref">RFC9728</a>]</span>.<a href="#section-5.1.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="federation_policy">
<section id="section-6">
      <h2 id="name-federation-policy">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-federation-policy" class="section-name selfRef">Federation Policy</a>
      </h2>
<div id="metadata_policy">
<section id="section-6.1">
        <h3 id="name-metadata-policy">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-metadata-policy" class="section-name selfRef">Metadata Policy</a>
        </h3>
<p id="section-6.1-1">
   Metadata Policy is used in this specification as defined in
   <span><a href="https://openid.net/specs/openid-federation-1_1.html#metadata_policy" class="relref">Section 6.1</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="chain_constraints">
<section id="section-6.2">
        <h3 id="name-constraints">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-constraints" class="section-name selfRef">Constraints</a>
        </h3>
<p id="section-6.2-1">
   Constraints are used in this specification as defined in
   <span><a href="https://openid.net/specs/openid-federation-1_1.html#chain_constraints" class="relref">Section 6.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="trust_marks">
<section id="section-7">
      <h2 id="name-trust-marks">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-trust-marks" class="section-name selfRef">Trust Marks</a>
      </h2>
<p id="section-7-1">
   Trust Marks are used in this specification as defined in
   <span><a href="https://openid.net/specs/openid-federation-1_1.html#trust_marks" class="relref">Section 7</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="federation_endpoints">
<section id="section-8">
      <h2 id="name-federation-endpoints">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-federation-endpoints" class="section-name selfRef">Federation Endpoints</a>
      </h2>
<p id="section-8-1">
 This specification uses the Federation Endpoints defined in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#federation_endpoints" class="relref">Section 8</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="federation_configuration">
<section id="section-9">
      <h2 id="name-obtaining-federation-entity">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-obtaining-federation-entity" class="section-name selfRef">Obtaining Federation Entity Configuration Information</a>
      </h2>
<p id="section-9-1">
 Entity Configurations are obtained in this specification as specified in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#federation_configuration" class="relref">Section 9</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="resolving_trust">
<section id="section-10">
      <h2 id="name-resolving-the-trust-chain-a">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-resolving-the-trust-chain-a" class="section-name selfRef">Resolving the Trust Chain and Metadata</a>
      </h2>
<p id="section-10-1">
 Trust Chains are resolved in this specification as specified in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#resolving_trust" class="relref">Section 10</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="updating-metadata">
<section id="section-11">
      <h2 id="name-updating-metadata-key-rollo">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-updating-metadata-key-rollo" class="section-name selfRef">Updating Metadata, Key Rollover, and Revocation</a>
      </h2>
<p id="section-11-1">
 Entity Statements and Keys are updated in this specification as specified in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#updating-metadata" class="relref">Section 11</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="client_registration">
<section id="section-12">
      <h2 id="name-openid-connect-client-regis">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-openid-connect-client-regis" class="section-name selfRef">OpenID Connect Client Registration</a>
      </h2>
<p id="section-12-1">
        This section describes how the mechanisms defined in this specification
        can be used to establish trust between an RP and an OP that have no
        prior explicit configuration or registration between them. It defines
        two client registration methods, Automatic Registration and Explicit
        Registration, that use Trust Chains, per <a href="#resolving_trust" class="auto internal xref">Section 10</a>.
        Federations can use other appropriate methods for client registration.<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">
        Federations with OpenID Connect Entities SHOULD agree on the supported
        client registration methods.<a href="#section-12-2" class="pilcrow">¶</a></p>
<p id="section-12-3">
 Note that both Automatic Registration and Explicit Registration
 can also be used for OAuth 2.0 profiles other than OpenID Connect.
 To do so, rather than using the Entity Type Identifiers
 <code>openid_relying_party</code> and
 <code>openid_provider</code>,
 one would instead use the Entity Type Identifiers
 <code>oauth_client</code> and
 <code>oauth_authorization_server</code>,
 or possibly other Entity Type Identifiers defined for the specific
 OAuth 2.0 profile being used.<a href="#section-12-3" class="pilcrow">¶</a></p>
<p id="section-12-4">
 When using both methods, <code>trust_anchor_hints</code>
 values can be used to determine Trust Anchors that the RP and OP share.
 When building Trust Chains, RPs SHOULD choose a Trust Anchor
 in common with the OP, when possible.<a href="#section-12-4" class="pilcrow">¶</a></p>
<div id="automatic">
<section id="section-12.1">
        <h3 id="name-automatic-registration">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-automatic-registration" class="section-name selfRef">Automatic Registration</a>
        </h3>
<p id="section-12.1-1">
          Automatic Registration enables an RP to make Authentication Requests
          without a prior registration step with the OP.
          The OP resolves the RP's Entity Configuration from the Client ID in the Authentication Request,
          following the process defined in <a href="#resolving_trust" class="auto internal xref">Section 10</a>.<a href="#section-12.1-1" class="pilcrow">¶</a></p>
<p id="section-12.1-2">
              The RP MUST perform Trust Chain and metadata resolution for the OP, as specified in
              <a href="#resolving_trust" class="auto internal xref">Section 10</a> before it sends the Authentication Request. If the resolution is not
              successful, the RP MUST NOT attempt further interactions with the OP.<a href="#section-12.1-2" class="pilcrow">¶</a></p>
<p id="section-12.1-3">
          Automatic Registration has the following characteristics:<a href="#section-12.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.1-4.1">
            <p id="section-12.1-4.1.1">
              In all interactions with the OP, the RP employs its Entity Identifier as the Client ID.
              The OP retrieves the RP's Entity Configuration
              from the URL derived from the Entity Identifier, as
              described in <a href="#federation_configuration" class="auto internal xref">Section 9</a>.<a href="#section-12.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-12.1-4.2">
            <p id="section-12.1-4.2.1">
              Since there is no registration step prior to the Authentication Request,
       asymmetric cryptography MUST be used to authenticate requests
       when using Automatic Registration.
       Asymmetric cryptography is used to authenticate requests;
       therefore, the OP neither assigns a Client Secret to the RP
       nor returns it as a result of the registration process.<a href="#section-12.1-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-12.1-5">
          An OP that supports Automatic Registration MUST include the
          <code>automatic</code> keyword in its
          <code>client_registration_types_supported</code>
          metadata parameter.<a href="#section-12.1-5" class="pilcrow">¶</a></p>
<div id="authn-request">
<section id="section-12.1.1">
          <h4 id="name-authentication-request">
<a href="#section-12.1.1" class="section-number selfRef">12.1.1. </a><a href="#name-authentication-request" class="section-name selfRef">Authentication Request</a>
          </h4>
<p id="section-12.1.1-1">
            The Authentication Request is performed by passing a
            Request Object by value or by reference, as described in Section 6 of
            <span><a href="#OpenID.Core" class="internal xref">OpenID Connect Core 1.0</a> [<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>
     and <span><a href="#RFC9101" class="internal xref">The OAuth 2.0 Authorization Framework: JWT-Secured Authorization Request (JAR)</a> [<a href="#RFC9101" class="cite xref">RFC9101</a>]</span>,
            or using a pushed authorization request, as described in
            <span><a href="#RFC9126" class="internal xref">Pushed Authorization Requests</a> [<a href="#RFC9126" class="cite xref">RFC9126</a>]</span>.<a href="#section-12.1.1-1" class="pilcrow">¶</a></p>
<p id="section-12.1.1-2">
     Authentication requests MUST demonstrate that the requesting Entity
     controls the Entity's RP keys, using one of the methods described below.
     Attempted authentication requests that do not do so MUST be rejected.<a href="#section-12.1.1-2" class="pilcrow">¶</a></p>
<p id="section-12.1.1-3">
     Deployments MAY choose not to support passing the request object
     by reference
     (using the <code>request_uri</code> request parameter)
     because allowing this would make it easier for attackers
     to mount denial of service attacks against
     OAuth 2.0 Authorization Servers or OpenID Providers.
     They can do this by using the
     <code>request_uri_parameter_supported</code>
     OP metadata parameter with the value <code>false</code>.
     If the request parameters are too large to practically
     be passed by value as query parameters,
     the request parameters can instead be sent via HTTP POST or
     a <span><a href="#RFC9126" class="internal xref">Pushed Authorization Request</a> [<a href="#RFC9126" class="cite xref">RFC9126</a>]</span>,
     as described in <a href="#using-par" class="auto internal xref">Section 12.1.1.2</a>.<a href="#section-12.1.1-3" class="pilcrow">¶</a></p>
<div id="UsingAuthzRequestObject">
<section id="section-12.1.1.1">
            <h5 id="name-using-a-request-object">
<a href="#section-12.1.1.1" class="section-number selfRef">12.1.1.1. </a><a href="#name-using-a-request-object" class="section-name selfRef">Using a Request Object</a>
            </h5>
<p id="section-12.1.1.1-1">
              When a Request Object is used at the Authorization Endpoint
       or the Pushed Authorization Request Endpoint,
       the value of the <code>request</code>
              parameter is a JWT whose Claims are the request parameters
              specified in Section 3.1.2 in
              <span><a href="#OpenID.Core" class="internal xref">OpenID Connect Core 1.0</a> [<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>.
              The JWT MUST be signed and MAY be encrypted.
              The following parameters are used in the Request Object:<a href="#section-12.1.1.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-12.1.1.1-2">
              <dt id="section-12.1.1.1-2.1">aud</dt>
              <dd style="margin-left: 1.5em" id="section-12.1.1.1-2.2">
   REQUIRED. The "aud" (audience) value MUST be
   the Entity Identifier of the OP
   and MUST NOT include any other values.<a href="#section-12.1.1.1-2.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1.1.1-2.3">client_id</dt>
              <dd style="margin-left: 1.5em" id="section-12.1.1.1-2.4">
                  REQUIRED. The <code>client_id</code>
                  value MUST be the RP's Entity Identifier.<a href="#section-12.1.1.1-2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1.1.1-2.5">iss</dt>
              <dd style="margin-left: 1.5em" id="section-12.1.1.1-2.6">
                  REQUIRED. The <code>iss</code>
                  value MUST be the RP's Entity Identifier.<a href="#section-12.1.1.1-2.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1.1.1-2.7">sub</dt>
              <dd style="margin-left: 1.5em" id="section-12.1.1.1-2.8">
                  MUST NOT be present.
                  This prevents reuse of the statement for
                  <code>private_key_jwt</code>
                  client authentication.<a href="#section-12.1.1.1-2.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1.1.1-2.9">jti</dt>
              <dd style="margin-left: 1.5em" id="section-12.1.1.1-2.10">
                  REQUIRED. JWT ID. A unique identifier for the JWT, which can
                  be used to prevent reuse of the Request Object.
                  A Request Object MUST only
                  be used once, unless conditions for reuse were negotiated
                  between the parties; any such negotiation is beyond the scope
                  of this specification.<a href="#section-12.1.1.1-2.10" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1.1.1-2.11">exp</dt>
              <dd style="margin-left: 1.5em" id="section-12.1.1.1-2.12">
                  REQUIRED. Number. Expiration time after which the JWT MUST
                  NOT be accepted for processing. This is expressed as Seconds
                  Since the Epoch, per <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>.<a href="#section-12.1.1.1-2.12" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1.1.1-2.13">iat</dt>
              <dd style="margin-left: 1.5em" id="section-12.1.1.1-2.14">
                  OPTIONAL. Number. Time when this Request Object was issued.
                  This is expressed as Seconds Since the Epoch, per
                  <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>.<a href="#section-12.1.1.1-2.14" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1.1.1-2.15">trust_chain</dt>
              <dd id="section-12.1.1.1-2.16" style="margin-left: 1.5em">
<div id="trust_chain-param">
                <p id="section-12.1.1.1-2.16.1">
                  OPTIONAL. Array containing the sequence of Entity Statements
                  that comprise the Trust Chain between the RP making
                  the request and the selected Trust Anchor.
                  When the RP and the OP are part of the same federation,
                  the RP MUST select a Trust Anchor that it has in common
                  with the OP; otherwise, the RP is free to select the
                  Trust Anchor to use.<a href="#section-12.1.1.1-2.16.1" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1-2.16.2">

   NOTE: The use of the
   <code>trust_chain</code> header parameter,
   as specified in <span><a href="https://openid.net/specs/openid-federation-1_1.html#trust_chain_head_param" class="relref">Section 4.3</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>,
   is RECOMMENDED over the use of this parameter;
   it is retained for historical reasons.<a href="#section-12.1.1.1-2.16.2" class="pilcrow">¶</a></p>
</div>
            </dd>
<dd class="break"></dd>
</dl>
<div id="trust_chain_authz">
<section id="section-12.1.1.1.1">
              <h6 id="name-authorization-request-with-">
<a href="#section-12.1.1.1.1" class="section-number selfRef">12.1.1.1.1. </a><a href="#name-authorization-request-with-" class="section-name selfRef">Authorization Request with a Trust Chain</a>
              </h6>
<p id="section-12.1.1.1.1-1">
              When the <code>trust_chain</code>
              header parameter
              is used in the authentication request, the Relying Party
              informs the OP of the sequence of Entity Statements
              that proves the trust relationship between it
              and the selected Trust Anchor.<a href="#section-12.1.1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1.1-2">
              Due to the large size of a Trust Chain, it may be necessary
              to use the HTTP POST method,
       a <code>request_uri</code>, or
              a <span><a href="#RFC9126" class="internal xref">Pushed Authorization Request</a> [<a href="#RFC9126" class="cite xref">RFC9126</a>]</span>
              for the request.<a href="#section-12.1.1.1.1-2" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1.1-3" class="keepWithNext">
                The following is a non-normative example of the
 header parameters and JWT Claims Set in a
                Request Object:<a href="#section-12.1.1.1.1-3" class="pilcrow">¶</a></p>
<span id="name-request-object-jwt-claims-s"></span><figure id="figure-3">
                <div class="alignLeft art-text artwork" id="section-12.1.1.1.1-4.1">
<pre>
{
  "typ": "oauth-authz-req+jwt",
  "alg": "RS256",
  "kid": "kid-that-points-to-a-jwk-contained-in-the-trust-chain",
  "trust_chain" : [
    "eyJhbGciOiJSUzI1NiIsImtpZCI6Ims1NEhRdERpYnlHY3M5WldWTWZ2aUhm ...",
    "eyJhbGciOiJSUzI1NiIsImtpZCI6IkJYdmZybG5oQU11SFIwN2FqVW1BY0JS ...",
    "eyJhbGciOiJSUzI1NiIsImtpZCI6IkJYdmZybG5oQU11SFIwN2FqVW1BY0JS ..."
  ]
}
.
{
  "aud": "https://op.example.org",
  "client_id": "https://rp.example.com",
  "exp": 1589699162,
  "iat": 1589699102,
  "iss": "https://rp.example.com",
  "jti": "4d3ec0f81f134ee9a97e0449be6d32be",
  "nonce": "4LX0mFMxdBjkGmtx7a8WIOnB",
  "redirect_uri": "https://rp.example.com/authz_cb",
  "response_type": "code",
  "scope": "openid profile email address phone",
  "state": "YmX8PM9I7WbNoMnnieKKBiptVW0sP2OZ"
}
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-request-object-jwt-claims-s" class="selfRef">Request Object JWT Claims Set</a>
                </figcaption></figure>
<p id="section-12.1.1.1.1-5" class="keepWithNext">
                The following is a non-normative example of an Authentication
                Request using the <code>request</code> parameter
                (with line wraps within values for display purposes only):<a href="#section-12.1.1.1.1-5" class="pilcrow">¶</a></p>
<span id="name-authentication-request-usin"></span><figure id="figure-4">
                <div class="alignLeft art-text artwork" id="section-12.1.1.1.1-6.1">
<pre>
Host: server.example.com
GET /authorize?
    redirect_uri=https%3A%2F%2Frp.example.com%2Fauthz_cb
    &amp;scope=openid+profile+email+address+phone
    &amp;response_type=code
    &amp;client_id=https%3A%2F%2Frp.example.com
    &amp;request=eyJ0eXAiOiJvYXV0aC1hdXRoei1yZXErand0IiwiYWxnIjoiUlMyNTYiLCJ
        raWQiOiJOX19EOThJdkI4TmFlLWt3QTZuck90LWlwVGhqSGtEeDM3bmljRE1IM04
        0In0.
        eyJhdWQiOiJodHRwczovL29wLmV4YW1wbGUub3JnIiwiY2xpZW50X2lkIjoiaHR0
        cHM6Ly9ycC5leGFtcGxlLmNvbSIsImV4cCI6MTU4OTY5OTE2MiwiaWF0IjoxNTg5
        Njk5MTAyLCJpc3MiOiJodHRwczovL3JwLmV4YW1wbGUuY29tIiwianRpIjoiNGQz
        ZWMwZjgxZjEzNGVlOWE5N2UwNDQ5YmU2ZDMyYmUiLCJub25jZSI6IjRMWDBtRk14
        ZEJqa0dtdHg3YThXSU9uQiIsInJlZGlyZWN0X3VyaSI6Imh0dHBzOi8vcnAuZXhh
        bXBsZS5jb20vYXV0aHpfY2IiLCJyZXNwb25zZV90eXBlIjoiY29kZSIsInNjb3Bl
        Ijoib3BlbmlkIHByb2ZpbGUgZW1haWwgYWRkcmVzcyBwaG9uZSIsInN0YXRlIjoi
        WW1YOFBNOUk3V2JOb01ubmllS0tCaXB0Vlcwc1AyT1oiLCJ0cnVzdF9jaGFpbiI6
        WyJleUpoYkdjaU9pSlNVekkxTmlJc0ltdHBaQ0k2SW1zMU5FaFJkRVJwWW5sSFkz
        TTVXbGRXVFdaMmFVaG0gLi4uIiwiZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJ
        NklrSllkbVp5Ykc1b1FVMTFTRkl3TjJGcVZXMUJZMEpTIC4uLiIsImV5SmhiR2Np
        T2lKU1V6STFOaUlzSW10cFpDSTZJa0pZZG1aeWJHNW9RVTExU0ZJd04yRnFWVzFC
        WTBKUyAuLi4iXX0.
        Rv0isfuku0FcRFintgxgKDk7EnhFkpQRg3Tm6N6fCHAHEKFxVVdjy4
        9JboJtxKcQVZKN9TKn3lEYM1wtF1e9PQrNt4HZ21ICfnzxXuNx1F5SY1GXCU2n2y
        FVKtz3N0YkAFbTStzy-sPRTXB0stLBJH74RoPiLs2c6dDvrwEv__GA7oGkg2gWt6
        VDvnfDpnvFi3ZEUR1J8MOeW_VFsayrT9sNjyjsz62Po4LzvQKQMKxq0dNwPNYuuS
        fUmb-YvmFguxDb3weYl8WS-
        48EIkP1h4b_KGU9x9n7a1fUOHrS02ATQZmaL8jUil7yLJqx5MiCsPr4pCAXV0doA
        4pwhs_FIw HTTP/1.1

</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-authentication-request-usin" class="selfRef">Authentication Request using Request Object</a>
                </figcaption></figure>
<p id="section-12.1.1.1.1-7">
       When the <code>trust_chain</code> header parameter
       is included,
       the <code>peer_trust_chain</code> header parameter
       MAY also be included to provide a Trust Chain between the OP
       and the Trust Anchor the RP selected.
       The Peer Trust Chain contains metadata and policy values
       that the RP has chosen for the OP to use during the registration.
       The Trust Anchors selected in both Trust Chains MUST be the same.
       Inclusion of both Trust Chains enables achieving
       the Federation Integrity and Metadata Integrity properties,
       as defined in <span>[<a href="#App-Fed-Linkage" class="cite xref">App-Fed-Linkage</a>]</span>.<a href="#section-12.1.1.1.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="AuthzRequestProcessing">
<section id="section-12.1.1.1.2">
              <h6 id="name-processing-the-authenticati">
<a href="#section-12.1.1.1.2" class="section-number selfRef">12.1.1.1.2. </a><a href="#name-processing-the-authenticati" class="section-name selfRef">Processing the Authentication Request</a>
              </h6>
<p id="section-12.1.1.1.2-1">
                When the OP receives an incoming Authentication Request,
                the OP supports OpenID Federation, the incoming
                Client ID
                is a valid URL, and the OP does not have the Client ID
                registered as a known
                client, then the OP SHOULD resolve the Trust Chains
                related to the requestor.<a href="#section-12.1.1.1.2-1" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1.2-2">
                An RP MAY include a Trust Chain from itself
 to the Trust Anchor that it selected
 in the Request Object using the
                <code>trust_chain</code> header parameter
 defined in <span><a href="https://openid.net/specs/openid-federation-1_1.html#trust_chain_head_param" class="relref">Section 4.3</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.
                If the OP does not have a valid registration for the RP or
                its registration has expired, the OP MAY use the received
                Trust Chain as a hint for which path to take from the
                RP's Entity to the Trust Anchor.
                The OP MAY evaluate the statements in the
                provided Trust Chain
                to make its Federation Entity Discovery procedure more efficient,
                especially if the RP contains multiple authority hints in
                its Entity Configuration.
 If the OP already has a valid registration for the RP, it MAY
 use the received Trust Chain to update the RP's registration.<a href="#section-12.1.1.1.2-2" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1.2-3">
                A Trust Chain may be relied upon by the OP because it has validated
                all of its statements. This is true whether these statements
                are retrieved from their URLs or whether they
                are provided via the <code>trust_chain</code>
                request parameter in the Request Object.
 In both cases, the OP MUST fully verify the Trust Chain
 including every Entity Statement contained in it.<a href="#section-12.1.1.1.2-3" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1.2-4">
 The RP MAY likewise include a Trust Chain from the OP
 to the Trust Anchor that the RP selected
 in the Request Object using the
                <code>peer_trust_chain</code> header parameter
 defined in <span><a href="https://openid.net/specs/openid-federation-1_1.html#peer_trust_chain_head_param" class="relref">Section 4.4</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.
 The OP SHOULD use the metadata and policy values
 that the RP has chosen during the registration.
 Inclusion of both Trust Chains enables achieving
 the Federation Integrity and Metadata Integrity properties,
 as defined in <span>[<a href="#App-Fed-Linkage" class="cite xref">App-Fed-Linkage</a>]</span>.<a href="#section-12.1.1.1.2-4" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1.2-5">
                If the RP does not include the
                <code>trust_chain</code>
                header parameter in the Request Object,
 the OP for some reason decides not to use the provided Trust Chain,
                or the OP does not support this feature, it then MUST
                validate the possible Trust Chains, starting with the RP's Entity Configuration,
                as described in <span><a href="https://openid.net/specs/openid-federation-1_1.html#fetching-es" class="relref">Section 10.1</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>,
                and resolve the RP metadata with Entity Type
                <code>openid_relying_party</code>.<a href="#section-12.1.1.1.2-5" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1.2-6">
                The OP SHOULD furthermore verify that the Resolved Metadata of the RP
                complies with the client metadata specification
                <span><a href="#OpenID.Registration" class="internal xref">OpenID Connect Dynamic Client Registration 1.0</a> [<a href="#OpenID.Registration" class="cite xref">OpenID.Registration</a>]</span>.<a href="#section-12.1.1.1.2-6" class="pilcrow">¶</a></p>
<p id="section-12.1.1.1.2-7">
                Once the OP has the RP's metadata, it MUST verify that the client
                was actually the one sending the Authentication Request by
                verifying the signature of the Request Object using the key
                material the client published in its metadata for the
                <code>openid_relying_party</code> Entity Type.
 If the signature does not verify, the OP MUST reject the request.<a href="#section-12.1.1.1.2-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="using-par">
<section id="section-12.1.1.2">
            <h5 id="name-using-pushed-authorization">
<a href="#section-12.1.1.2" class="section-number selfRef">12.1.1.2. </a><a href="#name-using-pushed-authorization" class="section-name selfRef">Using Pushed Authorization</a>
            </h5>
<p id="section-12.1.1.2-1">
              <span><a href="#RFC9126" class="internal xref">Pushed Authorization Requests</a> [<a href="#RFC9126" class="cite xref">RFC9126</a>]</span>
              provide an
              interoperable way to push authentication request parameters
              directly to the AS in exchange for a one-time-use
              <code>request_uri</code>.
       The standard PAR metadata parameters are used in the
       RP and OP metadata to indicate its use.<a href="#section-12.1.1.2-1" class="pilcrow">¶</a></p>
<p id="section-12.1.1.2-2">
       When using PAR with Automatic Registration,
       either a Request Object MUST be used as a PAR parameter,
       with the Request Object being as described in
       <a href="#UsingAuthzRequestObject" class="auto internal xref">Section 12.1.1.1</a>, or
       a client authentication method for the PAR endpoint
       MUST be used that proves possession of one of the RP's private keys.
       Furthermore, the corresponding public key MUST be in the
       Entity's RP JWK Set <span>[<a href="#RFC7517" class="cite xref">RFC7517</a>]</span>.<a href="#section-12.1.1.2-2" class="pilcrow">¶</a></p>
<p id="section-12.1.1.2-3">
              The two applicable PAR client authentication methods are:<a href="#section-12.1.1.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.1.1.2-4.1">
                <p id="section-12.1.1.2-4.1.1">
   JWT Client authentication, as described
                  for <code>private_key_jwt</code> in Section 9 of
                  <span><a href="#OpenID.Core" class="internal xref">OpenID Connect Core 1.0</a> [<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>.
   In this case, the audience of the client authentication JWT
   MUST be the Entity Identifier of the OP
   and MUST NOT include any other values.<a href="#section-12.1.1.2-4.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-12.1.1.2-4.2">
                <p id="section-12.1.1.2-4.2.1">
                  mTLS using self-signed certificates,
   as described in Section 2.2 of <span>[<a href="#RFC8705" class="cite xref">RFC8705</a>]</span>.
                  In this case, the self-signed certificate MUST be present as
                  the value of an <code>x5c</code>
                  Claim for a key in the Entity's RP JWK Set.
   In this case, the server MUST omit certificate chain validation.<a href="#section-12.1.1.2-4.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-12.1.1.2-5" class="keepWithNext">
       A Pushed Authorization Request to the OP could look like this:<a href="#section-12.1.1.2-5" class="pilcrow">¶</a></p>
<span id="name-pushed-authorization-reques"></span><figure id="figure-5">
              <div class="alignLeft art-text artwork" id="section-12.1.1.2-6.1">
<pre>
POST /par HTTP/1.1
Host: op.example.org
Content-Type: application/x-www-form-urlencoded

redirect_uri=https%3A%2F%2Frp.example.com%2Fauthz_cb
&amp;scope=openid+profile+email+address+phone
&amp;response_type=code
&amp;nonce=4LX0mFMxdBjkGmtx7a8WIOnB
&amp;state=YmX8PM9I7WbNoMnnieKKBiptVW0sP2OZ
&amp;client_id=https%3A%2F%2Frp.example.com
&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3A
  client-assertion-type%3Ajwt-bearer
&amp;client_assertion=eyJhbGciOiJSUzI1NiIsImtpZCI6ImRVTjJ
  hMDF3Umtoa1NXcGxRVGh2Y1ZCSU5VSXdUVWRPVUZVMlRtVnJTbW
  hFUVhnelpYbHBUemRRTkEifQ.
  eyJzdWIiOiAiaHR0cHM6Ly9ycC5leGFtcGxlLmNvbSIsICJpc3M
  iOiAiaHR0cHM6Ly9ycC5leGFtcGxlLmNvbSIsICJpYXQiOiAxNT
  g5NzA0NzAxLCAiZXhwIjogMTU4OTcwNDc2MSwgImF1ZCI6ICJod
  HRwczovL29wLmV4YW1wbGUub3JnIiwgImp0aSI6ICIzOWQ1YWU1
  NTJkOWM0OGYwYjkxMmRjNTU2OGVkNTBkNiJ9.
  oUt9Knx_lxb4V2S0tyNFH
  CNZeP7sImBy5XDsFxv1cUpGkAojNXSy2dnU5HEzscMgNW4wguz6
  KDkC01aq5OfN04SuVItS66bsx0h4Gs7grKAp_51bClzreBVzU4g
  _-dFTgF15T9VLIgM_juFNPA_g4Lx7Eb5r37rWTUrzXdmfxeou0X
  FC2p9BIqItU3m9gmH0ojdBCUX5Up0iDsys6_npYomqitAcvaBRD
  PiuUBa5Iar9HVR-H7FMAr7aq7s-dH5gx2CHIfM3-qlc2-_Apsy0
  BrQl6VePR6j-3q6JCWvNw7l4_F2UpHeanHb31fLKQbK-1yoXDNz
  DwA7B0ZqmuSmMFQ
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-pushed-authorization-reques" class="selfRef">Pushed Authorization Request to the OP</a>
              </figcaption></figure>
<div id="par-processing">
<section id="section-12.1.1.2.1">
              <h6 id="name-processing-the-pushed-authe">
<a href="#section-12.1.1.2.1" class="section-number selfRef">12.1.1.2.1. </a><a href="#name-processing-the-pushed-authe" class="section-name selfRef">Processing the Pushed Authentication Request</a>
              </h6>
<p id="section-12.1.1.2.1-1">
                The requirements specified in
                <a href="#AuthzRequestProcessing" class="auto internal xref">Section 12.1.1.1.2</a>
                also apply to <span><a href="#RFC9126" class="internal xref">Pushed Authorization Requests</a> [<a href="#RFC9126" class="cite xref">RFC9126</a>]</span>.<a href="#section-12.1.1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-12.1.1.2.1-2">
                Once the OP has the RP's metadata, it MUST verify the client
 is using the keys published for the
 <code>openid_relying_party</code>
 Entity Type Identifier.
 If the RP does not verify, the OP MUST reject the request.<a href="#section-12.1.1.2.1-2" class="pilcrow">¶</a></p>
<p id="section-12.1.1.2.1-3">
                The means of verification depends on the client authentication method used:<a href="#section-12.1.1.2.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-12.1.1.2.1-4">
                <dt id="section-12.1.1.2.1-4.1">private_key_jwt</dt>
                <dd style="margin-left: 1.5em" id="section-12.1.1.2.1-4.2">
                    If this method is used, then the OP verifies the
                    signature of the signed JWT using the key material published
                    by the RP in its metadata. If the authentication is
                    successful, then the registration is valid.
     The audience of the signed JWT MUST be
     the Authorization Server's Entity Identifier
     and MUST NOT include any other values.<a href="#section-12.1.1.2.1-4.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-12.1.1.2.1-4.3">self_signed_tls_client_auth</dt>
                <dd style="margin-left: 1.5em" id="section-12.1.1.2.1-4.4">
                    If mTLS is used with a self-signed certificate,
     then the certificate MUST be present as the
                    value of an <code>x5c</code>
                    Claim for a key in the JWK Set containing the RP's keys.<a href="#section-12.1.1.2.1-4.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="AuthenticationResponse">
<section id="section-12.1.2">
          <h4 id="name-successful-authentication-r">
<a href="#section-12.1.2" class="section-number selfRef">12.1.2. </a><a href="#name-successful-authentication-r" class="section-name selfRef">Successful Authentication Response</a>
          </h4>
<p id="section-12.1.2-1">
     The response to a successful authentication request
     when using Automatic Registration is the same as the
     successful authentication responses defined in <span>[<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>.
     It is a successful OAuth 2.0 authorization response
     sent to the Client's redirection URI.<a href="#section-12.1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="AuthenticationError">
<section id="section-12.1.3">
          <h4 id="name-authentication-error-respon">
<a href="#section-12.1.3" class="section-number selfRef">12.1.3. </a><a href="#name-authentication-error-respon" class="section-name selfRef">Authentication Error Response</a>
          </h4>
<p id="section-12.1.3-1">
     The error response to an unsuccessful authentication request
     when using Automatic Registration is the same as the
     error authentication responses defined in <span>[<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>.
     It is an OAuth 2.0 authorization error response
     sent to the Client's redirection URI,
     unless a <span><a href="#RFC9126" class="internal xref">Pushed Authorization Request</a> [<a href="#RFC9126" class="cite xref">RFC9126</a>]</span>
     was used for the request.<a href="#section-12.1.3-1" class="pilcrow">¶</a></p>
<p id="section-12.1.3-2">
     However, as in both <span>[<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span> and <span>[<a href="#RFC6749" class="cite xref">RFC6749</a>]</span>,
     if the redirection URI is invalid, redirection MUST NOT be performed,
     and instead the Authorization Server SHOULD inform the End-User
     of the error in the user interface.
     The Authorization Server MAY also choose to do this if it
     has reason to believe that the redirection URI might be being used
     as a component of an open redirector.<a href="#section-12.1.3-2" class="pilcrow">¶</a></p>
<p id="section-12.1.3-3">
     If the OP fails to establish trust with the RP or
     finds the RP metadata to be invalid or in conflict with metadata policy,
     it MUST treat the redirection URI as invalid
     and not perform redirection.
     This means that the error codes
     <code>invalid_trust_anchor</code>,
     <code>invalid_trust_chain</code>, and
     <code>invalid_metadata</code>,
     which are about reasons trust failed to be established,
     SHOULD only be returned in
     <span><a href="#RFC9126" class="internal xref">Pushed Authorization Request</a> [<a href="#RFC9126" class="cite xref">RFC9126</a>]</span>
     error responses, and not to the Client's redirection URI.<a href="#section-12.1.3-3" class="pilcrow">¶</a></p>
<p id="section-12.1.3-4">
            In addition to the error codes contained in the
     IANA "OAuth Extensions Error Registry" registry <span>[<a href="#IANA.OAuth.Parameters" class="cite xref">IANA.OAuth.Parameters</a>]</span>,
     this specification also uses the error codes defined in
     <span><a href="https://openid.net/specs/openid-federation-1_1.html#error_response" class="relref">Section 8.9</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-12.1.3-4" class="pilcrow">¶</a></p>
<p id="section-12.1.3-5" class="keepWithNext">
              The following is a non-normative example authentication error response:<a href="#section-12.1.3-5" class="pilcrow">¶</a></p>
<span id="name-authentication-error-respons"></span><figure id="figure-6">
            <div class="alignLeft art-text artwork" id="section-12.1.3-6.1">
<pre>
HTTP/1.1 302 Found
  Location: https://client.example.org/cb?
    error=consent_required
    &amp;error_description=
      Consent%20by%20the%20End-User%20required
    &amp;state=af0ifjsldkj
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-authentication-error-respons" class="selfRef">Authentication Error Response</a>
            </figcaption></figure>
</section>
</div>
<div id="AutoClientAuth">
<section id="section-12.1.4">
          <h4 id="name-automatic-registration-and-">
<a href="#section-12.1.4" class="section-number selfRef">12.1.4. </a><a href="#name-automatic-registration-and-" class="section-name selfRef">Automatic Registration and Client Authentication</a>
          </h4>
<p id="section-12.1.4-1">
     Note that when using Automatic Registration,
     the client authentication methods that the client can use
     are declared to the OP using RP Metadata parameters: either the
     <code>token_endpoint_auth_methods_supported</code>
     parameter defined in <span>[<a href="#OpenID.RP.Choices" class="cite xref">OpenID.RP.Choices</a>]</span> or the
     <code>token_endpoint_auth_method</code> parameter.
     Those that the OP can use are likewise
     declared to the RP using OP Metadata parameters.
     However, if there are multiple methods supported by both
     the RP and the OP, the OP does not know which one the RP will pick
     in advance of it being used,
     since this is not declared at the time the Automatic Registration occurs.<a href="#section-12.1.4-1" class="pilcrow">¶</a></p>
<p id="section-12.1.4-2">
     OPs SHOULD accept any client authentication method that is mutually supported
     and RPs MUST only use mutually supported methods.
     Because some OPs may be coded in such a way that
     they expect the RP to always use the same client authentication method
     for subsequent interactions, note that
     interoperability may be improved by the RP doing so.<a href="#section-12.1.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="AutomaticRegistrationOtherUses">
<section id="section-12.1.5">
          <h4 id="name-possible-other-uses-of-auto">
<a href="#section-12.1.5" class="section-number selfRef">12.1.5. </a><a href="#name-possible-other-uses-of-auto" class="section-name selfRef">Possible Other Uses of Automatic Registration</a>
          </h4>
<p id="section-12.1.5-1">
            Automatic Registration is designed to be able to be
            employed for OAuth 2.0 use cases beyond OpenID Connect,
     as noted in <a href="#client_registration" class="auto internal xref">Section 12</a>.
            For instance, ecosystems using
            bare <span><a href="#RFC6749" class="internal xref">OAuth 2.0</a> [<a href="#RFC6749" class="cite xref">RFC6749</a>]</span> or
            <span><a href="#FAPI" class="internal xref">FAPI</a> [<a href="#FAPI" class="cite xref">FAPI</a>]</span> can utilize Automatic Registration.<a href="#section-12.1.5-1" class="pilcrow">¶</a></p>
<p id="section-12.1.5-2">
     Also note that Client ID values that are Entity Identifiers
     could be used to identify clients using Automatic Registration
     at endpoints other than the Authorization Endpoint and Token Endpoint
     in OAuth 2.0 deployments, such as
     the Pushed Authorization Request (PAR) Endpoint
     and Introspection Endpoint.
     Describing particular such scenarios is beyond the scope of this specification.<a href="#section-12.1.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="explicit">
<section id="section-12.2">
        <h3 id="name-explicit-registration">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-explicit-registration" class="section-name selfRef">Explicit Registration</a>
        </h3>
<p id="section-12.2-1">
          Using this method, the RP establishes its client registration with the
          OP by means of a dedicated registration request, similar to
          <span>[<a href="#OpenID.Registration" class="cite xref">OpenID.Registration</a>]</span>, but instead of its metadata, the
          RP submits its Entity Configuration or an entire Trust Chain. When
          the Explicit Registration is completed, the RP can proceed to
          make regular OpenID authentication requests to the OP.<a href="#section-12.2-1" class="pilcrow">¶</a></p>
<p id="section-12.2-2">
          An OP that supports Explicit Registration MUST include the
          <code>explicit</code> keyword in its
          <code>client_registration_types_supported</code>
          metadata parameter and set the
          <code>federation_registration_endpoint</code> metadata
          parameter to the URL at which it receives Explicit Registration requests.<a href="#section-12.2-2" class="pilcrow">¶</a></p>
<p id="section-12.2-3">
          Explicit Registration is suitable for implementation on top of the
          <span><a href="#OpenID.Registration" class="internal xref">OpenID Connect Dynamic Client
          Registration 1.0</a> [<a href="#OpenID.Registration" class="cite xref">OpenID.Registration</a>]</span> endpoint of an OP deployment. In contrast to
          Automatic Registration, it enables an OP to provision a Client ID,
   potentially a Client Secret, and other metadata parameters.<a href="#section-12.2-3" class="pilcrow">¶</a></p>
<p id="section-12.2-4">An example of an Explicit Registration is provided in
          <a href="#ExplicitRegExample" class="auto internal xref">Appendix A.3.2</a>.<a href="#section-12.2-4" class="pilcrow">¶</a></p>
<div id="Cliregreq">
<section id="section-12.2.1">
          <h4 id="name-explicit-client-registratio">
<a href="#section-12.2.1" class="section-number selfRef">12.2.1. </a><a href="#name-explicit-client-registratio" class="section-name selfRef">Explicit Client Registration Request</a>
          </h4>
<p id="section-12.2.1-1">
              The RP performs Explicit Client Registration as follows:<a href="#section-12.2.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-12.2.1-2">
<li id="section-12.2.1-2.1">
              <p id="section-12.2.1-2.1.1">
                  Once the RP has determined a set of Trust Anchors it has in common with the OP,
                  it chooses the subset it wants to proceed with. This
                  may be a single Trust Anchor, or it can also be more than one.
                  The RP MUST perform Trust Chain and metadata resolution for
                  the OP, as specified in <a href="#resolving_trust" class="auto internal xref">Section 10</a>. If
                  the resolution is not successful, the RP MUST abort the
                  request.<a href="#section-12.2.1-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.1-2.2">
              <p id="section-12.2.1-2.2.1">
                  Using this subset of Trust Anchors, the RP chooses a set of
                  <code>authority_hints</code>
                  from the hints that are available to it. Each hint MUST,
                  when used as a starting point for Trust Chain collection,
                  lead to at least one of the Trust Anchors in the subset.
                  If the RP has more than one Trust Anchor in common with the
                  OP it MUST select a subset of Trust Anchors to proceed with.
                  The subset may be as small as a single Trust Anchor, or
                  include multiple ones.<a href="#section-12.2.1-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.1-2.3">
              <p id="section-12.2.1-2.3.1">
                  The RP will then construct its Entity Configuration,
                  where the metadata statement chosen is influenced by the OP's
                  metadata and where the
                  <code>authority_hints</code>
                  included are picked by the process described above.
                  From its Immediate Superiors, the RP MUST select
                  one or more <code>authority_hints</code> so
                  that every hint, when used as the starting point for a Trust Chain
                  collection, leads to at least one of the Trust Anchors
                  in the subset selected above.<a href="#section-12.2.1-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.1-2.4">
              <p id="section-12.2.1-2.4.1">
                  The RP MAY include its Entity Configuration
                  in a Trust Chain regarding itself.
                  There are two ways to do this.
   The first way is for the Registration Request to contain an
                  array with the sequence of
                  Entity Statements that compose the Trust Chain
                  between the RP that is making the request and the
                  selected Trust Anchor.
   The second way is to use the
   <code>trust_chain</code> header parameter,
   as specified in <span><a href="https://openid.net/specs/openid-federation-1_1.html#trust_chain_head_param" class="relref">Section 4.3</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-12.2.1-2.4.1" class="pilcrow">¶</a></p>
<p id="section-12.2.1-2.4.2">

   NOTE: The use of the
   <code>trust_chain</code> header parameter
   in the request JWT is RECOMMENDED over the first syntax;
   it is retained for historical reasons.<a href="#section-12.2.1-2.4.2" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.1-2.5">
              <p id="section-12.2.1-2.5.1">
                  The RP MUST include its
                  metadata in its Entity Configuration and use the
                  <code>authority_hints</code> selected above.<a href="#section-12.2.1-2.5.1" class="pilcrow">¶</a></p>
<p id="section-12.2.1-2.5.2">

                  The RP SHOULD select its metadata parameters to comply with
                  the OP's Resolved Metadata and thus ensure a successful
                  registration with the OP. Note that if the submitted RP
                  metadata is not compliant with the metadata of the OP, the
                  OP may choose to modify it to make it compliant
                  rather than reject the request with an error response.<a href="#section-12.2.1-2.5.2" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.1-2.6">
              <p id="section-12.2.1-2.6.1">
                  The Entity Configuration, or the entire Trust Chain,
                  is sent, using HTTP POST, to the
                  <code>federation_registration_endpoint</code>.
                  The Entity Configuration or Trust Chain is the entire POST body.
                  The RP MUST sign its Entity Configuration with a current
                  Federation Entity Key in its possession.<a href="#section-12.2.1-2.6.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.1-2.7">
              <p id="section-12.2.1-2.7.1">
                  The content type of the Registration Request MUST be
                  <code>application/entity-statement+jwt</code>
                  when it is the Entity Configuration of the requestor.
                  Otherwise, when it is a Trust Chain, the
                  content type of the Registration Request MUST be
                  <code>application/trust-chain+json</code>.
                  The RP MAY include its Entity Configuration in a Trust Chain
                  that leads to the RP. In this case, the registration request
                  will contain an array consisting of the sequence of
                  statements that make up the Trust Chain between the RP and
                  the Trust Anchor the RP selected.<a href="#section-12.2.1-2.7.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.1-2.8">
              <p id="section-12.2.1-2.8.1">
   The <code>trust_chain</code> header parameter
   MAY be included to provide a Trust Chain between the RP
   and the Trust Anchor the RP selected
   when the request is the Entity Configuration of the RP.
   This is equivalent to providing the Trust Chain as the request body.
   When the <code>trust_chain</code> header parameter
   is included,
   the <code>peer_trust_chain</code> header parameter
   MAY also be included to provide a Trust Chain between the OP
   and the Trust Anchor the RP selected.
   The Peer Trust Chain contains metadata and policy values
   that the RP has chosen for the OP to use during the registration.
   The <code>peer_trust_chain</code> header parameter
   MUST NOT be used when the request body is a Trust Chain.
   The Trust Anchors selected in both Trust Chains MUST be the same.
   Inclusion of both Trust Chains enables achieving
   the Federation Integrity and Metadata Integrity properties,
   as defined in <span>[<a href="#App-Fed-Linkage" class="cite xref">App-Fed-Linkage</a>]</span>.<a href="#section-12.2.1-2.8.1" class="pilcrow">¶</a></p>
</li>
          </ol>
<p id="section-12.2.1-3">
              The following Entity Configuration Claims are specified for use
              in Explicit Registration requests. Their full descriptions are in
              <a href="#entity-statement" class="auto internal xref">Section 3</a>.<a href="#section-12.2.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-12.2.1-4">
            <dt id="section-12.2.1-4.1">iss</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.2">
                  REQUIRED.
                  Its value MUST be the Entity Identifier of the RP.<a href="#section-12.2.1-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.3">sub</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.4">
                  REQUIRED.
                  Its value MUST be the Entity Identifier of the RP.<a href="#section-12.2.1-4.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.5">iat</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.6">
                  REQUIRED.<a href="#section-12.2.1-4.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.7">exp</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.8">
                  REQUIRED.<a href="#section-12.2.1-4.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.9">jwks</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.10">
                  REQUIRED.<a href="#section-12.2.1-4.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.11">aud</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.12">
                  REQUIRED.
   The "aud" (audience) value MUST be the Entity Identifier of the OP
   and MUST NOT include any other values.
                  This Claim is used in Explicit Registration requests;
   it is not a general Entity Statement Claim.<a href="#section-12.2.1-4.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.13">authority_hints</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.14">
                  REQUIRED.<a href="#section-12.2.1-4.14" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.15">metadata</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.16">
                  REQUIRED.
                  It MUST contain the RP metadata under the
   <code>openid_relying_party</code>
   Entity Type Identifier.<a href="#section-12.2.1-4.16" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.17">crit</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.18">
                  OPTIONAL.<a href="#section-12.2.1-4.18" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.1-4.19">trust_marks</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.1-4.20">
                  OPTIONAL.<a href="#section-12.2.1-4.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-12.2.1-5">
              The request MUST be an HTTP request to the
              <code>federation_registration_endpoint</code> of
              the OP, using the POST method.<a href="#section-12.2.1-5" class="pilcrow">¶</a></p>
<p id="section-12.2.1-6">
              When the RP submits an Entity Configuration the content type of
              the request MUST be
              <code>application/entity-statement+jwt</code>.
              When the RP submits a Trust Chain, the content type MUST be
              <code>application/trust-chain+json</code>.<a href="#section-12.2.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ExplicitRegOP">
<section id="section-12.2.2">
          <h4 id="name-processing-explicit-client-">
<a href="#section-12.2.2" class="section-number selfRef">12.2.2. </a><a href="#name-processing-explicit-client-" class="section-name selfRef">Processing Explicit Client Registration Request by OP</a>
          </h4>
<p id="section-12.2.2-1">
                The OP processes the request as follows:<a href="#section-12.2.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-12.2.2-2">
<li id="section-12.2.2-2.1">
              <p id="section-12.2.2-2.1.1">
                    Upon receiving a registration request, the OP MUST inspect
                    the content type to determine whether it contains an Entity Configuration
                    or an entire Trust Chain.<a href="#section-12.2.2-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.2-2.2">
              <p id="section-12.2.2-2.2.1">
     The OP MUST validate the RP's explicit registration request JWT.
     All the normal Entity Statement validation rules apply.
     In addition, if the <code>aud</code> (audience)
     Claim Value is not the Entity Identifier of the OP,
     then the request MUST be rejected.<a href="#section-12.2.2-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.2-2.3">
              <p id="section-12.2.2-2.3.1">
                    If no Trust Chain is provided from the RP to the Trust Anchor
     in the request, the OP MUST use the provided Entity Configuration
     to complete the Federation Entity Discovery by
                    collecting and evaluating the Trust Chains that start with
                    the <code>authority_hints</code> in the
                    Entity Configuration of the RP. After validating at least
                    one Trust Chain, the OP MUST verify the signature of the
                    received Entity Configuration. If the OP finds more than
                    one acceptable Trust Chain, it MUST choose one Trust Chain
                    from among them as the one to proceed with.<a href="#section-12.2.2-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.2-2.4">
              <p id="section-12.2.2-2.4.1">
                    If the request body is a Trust Chain, the OP MAY evaluate
                    the statements in the Trust Chain to save the HTTP calls
                    that are necessary to perform the Federation Entity Discovery,
                    especially if the RP included more than one
                    authority hint in its Entity Configuration. Otherwise, the
                    OP MUST extract the RP's Entity Configuration from the Trust Chain
                    and proceed according to Step 3,
     as if only an Entity Configuration was received.<a href="#section-12.2.2-2.4.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.2-2.5">
              <p id="section-12.2.2-2.5.1">
     When a Trust Chain is provided using the
     <code>trust_chain</code> header parameter
     in the request's Entity Configuration,
     the OP MAY likewise evaluate
     the statements in the Trust Chain to save the HTTP calls
     that are necessary to perform the Federation Entity Discovery.
     Note that in this case, the RP's Entity Configuration
     in the Trust Chain is only used to establish that
     there is a path from the RP to the Trust Anchor;
     it is the metadata, etc. in the request Entity Configuration,
     which may be tailored by the RP for the OP,
     that is used when processing the registration request.
     If the provided Trust Chain is not used,
     the OP MUST proceed according to Step 3,
     using the request Entity Configuration.<a href="#section-12.2.2-2.5.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.2-2.6">
              <p id="section-12.2.2-2.6.1">
     If the request uses
     the <code>peer_trust_chain</code> header parameter
     to include a Trust Chain from the OP
     to the Trust Anchor that the RP selected,
     verify that it begins at the OP.
     Furthermore, verify that it ends at the same Trust Anchor
     as any provided Trust chain from the RP to the Trust Anchor.
     The OP SHOULD use the metadata and policy values
     that the RP has chosen during the registration.<a href="#section-12.2.2-2.6.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.2-2.7">
              <p id="section-12.2.2-2.7.1">
                    At this point, if the OP finds that it already has an
                    existing client registration for the requesting RP, then
                    that registration MUST be invalidated. The precise time of
                    the invalidation is at the OP's discretion, as the OP may
                    want to ensure the completion of concurrent OpenID
                    authentication requests initiated by the RP while the
                    registration request is being processed.<a href="#section-12.2.2-2.7.1" class="pilcrow">¶</a></p>
<p id="section-12.2.2-2.7.2">

                    The OP MAY retain client credentials and key material from
                    the invalidated registration in order to verify past RP
                    signatures and perform other cryptographic operations on
                    past RP data.<a href="#section-12.2.2-2.7.2" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.2-2.8">
              <p id="section-12.2.2-2.8.1">
                    The OP uses the Resolved Metadata for the RP to create a client
                    registration compliant with its own OP metadata and other
                    applicable policies.<a href="#section-12.2.2-2.8.1" class="pilcrow">¶</a></p>
<p id="section-12.2.2-2.8.2">

                    The OP MAY provision the RP with a
                    <code>client_id</code> other than the RP's
                    Entity Identifier. This enables Explicit Registration to be
                    implemented on top of the
                    <span><a href="#OpenID.Registration" class="internal xref">OpenID Connect Dynamic
                    Client Registration 1.0</a> [<a href="#OpenID.Registration" class="cite xref">OpenID.Registration</a>]</span> endpoint of an OP.<a href="#section-12.2.2-2.8.2" class="pilcrow">¶</a></p>
<p id="section-12.2.2-2.8.3">

                    If the RP is provisioned with a
                    <code>client_secret</code> it MUST NOT
                    expire before the expiration of the registration Entity Statement
                    that will be returned to the RP.<a href="#section-12.2.2-2.8.3" class="pilcrow">¶</a></p>
<p id="section-12.2.2-2.8.4">

                    The OP SHOULD NOT provision the RP with a
                    <code>registration_access_token</code> and a
                    <code>registration_client_uri</code>
                    because the expected way for the RP to update its
                    registration is to make a new Explicit Registration
                    request. If the RP is provisioned with a
                    <code>registration_access_token</code> for
                    some purpose, for example, to let it independently check its
                    registered metadata, the token MUST NOT allow modification
                    of the registration.<a href="#section-12.2.2-2.8.4" class="pilcrow">¶</a></p>
<p id="section-12.2.2-2.8.5">

                    The OP MAY modify the received RP metadata, for example, by
                    substituting an invalid or unsupported parameter,
                    to make it compliant with its own OP metadata and other
                    policies. If the OP does not accept the RP metadata or is
                    unwilling to modify it to make it compliant, it
                    MUST return a client registration error response, with an
                    appropriate error, such as
                    <code>invalid_client_metadata</code> or
                    <code>invalid_redirect_uri</code>, as
                    specified in Section 3.3 of
                    <span>[<a href="#OpenID.Registration" class="cite xref">OpenID.Registration</a>]</span>.<a href="#section-12.2.2-2.8.5" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.2-2.9">
              <p id="section-12.2.2-2.9.1">
                    The OP MUST assign an expiration time to the created
                    registration. This time MUST NOT exceed the expiration time
                    of the Trust Chain that the OP selected to process the request.<a href="#section-12.2.2-2.9.1" class="pilcrow">¶</a></p>
</li>
          </ol>
</section>
</div>
<div id="cliregresp">
<section id="section-12.2.3">
          <h4 id="name-successful-explicit-client-">
<a href="#section-12.2.3" class="section-number selfRef">12.2.3. </a><a href="#name-successful-explicit-client-" class="section-name selfRef">Successful Explicit Client Registration Response</a>
          </h4>
<p id="section-12.2.3-1">
                    If the OP created a client registration for the RP, it MUST
                    then construct a success response in the form of an Entity Statement.<a href="#section-12.2.3-1" class="pilcrow">¶</a></p>
<p id="section-12.2.3-2">
                    The OP MUST set the <code>trust_anchor</code>
                    Claim of the Entity Statement to the Trust Anchor it
                    selected to process the request. The
                    <code>authority_hints</code> Claim MUST be
                    set to the RP's Immediate Superior in the
                    selected Trust Chain.<a href="#section-12.2.3-2" class="pilcrow">¶</a></p>
<p id="section-12.2.3-3">
                    The OP MUST set the <code>exp</code> Claim
                    to the expiration time of the created registration. The OP
                    MAY choose to invalidate the registration before that, as
                    explained in <a href="#AfterExplicitReg" class="auto internal xref">Section 12.2.6</a>.<a href="#section-12.2.3-3" class="pilcrow">¶</a></p>
<p id="section-12.2.3-4">
                    The OP MUST express the client registration it created for
                    the RP by means of the <code>metadata</code>
                    Claim, by placing the metadata parameters under the
     <code>openid_relying_party</code>
     Entity Type Identifier.
     The parameters MUST include the
                    <code>client_id</code> that was provisioned
                    for the RP. If the RP was provisioned with credentials,
                    for example, a <code>client_secret</code>,
                    these MUST be included as well.<a href="#section-12.2.3-4" class="pilcrow">¶</a></p>
<p id="section-12.2.3-5">
                    The OP SHOULD include metadata parameters that have a
                    default value, for example
                    <code>token_endpoint_auth_method</code>
                    which has a default value of
                    <code>client_secret_basic</code>,
                    to simplify the processing of the response by the RP.<a href="#section-12.2.3-5" class="pilcrow">¶</a></p>
<p id="section-12.2.3-6">
                    The OP MUST sign the registration Entity Statement with a
                    current Federation Entity Key in its possession.<a href="#section-12.2.3-6" class="pilcrow">¶</a></p>
<p id="section-12.2.3-7">
 The following Entity Statement Claims
 are used in Explicit Registration responses,
 as specified in <a href="#entity-statement" class="auto internal xref">Section 3</a>:<a href="#section-12.2.3-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-12.2.3-8">
            <dt id="section-12.2.3-8.1">iss</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.2">
                    REQUIRED.
                    Its value MUST be the Entity Identifier of the OP.<a href="#section-12.2.3-8.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.3-8.3">sub</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.4">
                    REQUIRED.
                    Its value MUST be the Entity Identifier of the RP.<a href="#section-12.2.3-8.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.3-8.5">iat</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.6">
                    REQUIRED.
     Time when this statement was issued.<a href="#section-12.2.3-8.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.3-8.7">exp</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.8">
                    REQUIRED.
     Expiration time after which the statement MUST NOT be
     accepted for processing.<a href="#section-12.2.3-8.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.3-8.9">jwks</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.10">
                    OPTIONAL.
     If present, it MUST be a verbatim copy of the
     <code>jwks</code> Entity Statement Claim
                    from the received Entity Configuration of the RP.
     Note that this is distinct from the identically named RP metadata parameter.<a href="#section-12.2.3-8.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.3-8.11">aud</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.12">
                    REQUIRED.
                    The "aud" (audience) value MUST be the Entity Identifier of the RP
     and MUST NOT include any other values.
     This Claim is used in Explicit Registration responses;
     it is not a general Entity Statement Claim.<a href="#section-12.2.3-8.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.3-8.13">trust_anchor</dt>
            <dd id="section-12.2.3-8.14" style="margin-left: 1.5em">
<div id="trust_anchor-claim">
                    REQUIRED.
                    Its value MUST be the Entity Identifier of the Trust Anchor
                    that the OP selected to process the Explicit Registration request.
     If complete Trust Chains to the Trust Anchor selected by the RP
     were provided in the request and/or by using the
     <code>peer_trust_chain</code> header parameter,
     this MUST match the Trust Anchors at the roots of those Trust Chains.
     This Claim is specific to Explicit Registration responses;
     it is not a general Entity Statement Claim.<a href="#trust_anchor-claim" class="pilcrow">¶</a>
</div>
            </dd>
<dd class="break"></dd>
<dt id="section-12.2.3-8.15">authority_hints</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.16">
                    REQUIRED.
                    It MUST be a single-element array, whose value references
                    the Immediate Superior of the RP in the Trust Chain
                    that the OP selected to process the request.<a href="#section-12.2.3-8.16" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.3-8.17">metadata</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.18">
                    REQUIRED.
                    It MUST contain the registered RP metadata under the
                    <code>openid_relying_party</code>
     Entity Type Identifier.<a href="#section-12.2.3-8.18" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.2.3-8.19">crit</dt>
            <dd style="margin-left: 1.5em" id="section-12.2.3-8.20">
                    OPTIONAL.
     Set of Claims that MUST be understood and processed,
     as specified in <span><a href="https://openid.net/specs/openid-federation-1_1.html#common-claims" class="relref">Section 3.1</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-12.2.3-8.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-12.2.3-9">
                A successful response MUST have an HTTP status code 200 and
                the content type
                <code>application/explicit-registration-response+jwt</code>.
 Furthermore, the <code>typ</code> header parameter
 value in the response MUST be
 <code>explicit-registration-response+jwt</code>
 (and not <code>entity-statement+jwt</code>)
 to prevent cross-JWT confusion between the Explicit Registration response
 and other kinds of Entity Statements,
 per Section 3.11 of <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-12.2.3-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ExplicitError">
<section id="section-12.2.4">
          <h4 id="name-explicit-client-registration">
<a href="#section-12.2.4" class="section-number selfRef">12.2.4. </a><a href="#name-explicit-client-registration" class="section-name selfRef">Explicit Client Registration Error Response</a>
          </h4>
<p id="section-12.2.4-1">
                For a client registration error, the response is as defined in
                <span><a href="https://openid.net/specs/openid-federation-1_1.html#error_response" class="relref">Section 8.9</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>
 and MAY use errors defined there and in
                Section 3.3 of <span>[<a href="#OpenID.Registration" class="cite xref">OpenID.Registration</a>]</span> and
 Section 3.2.2 of <span>[<a href="#RFC7591" class="cite xref">RFC7591</a>]</span>.<a href="#section-12.2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ExplicitRegRP">
<section id="section-12.2.5">
          <h4 id="name-processing-explicit-client-r">
<a href="#section-12.2.5" class="section-number selfRef">12.2.5. </a><a href="#name-processing-explicit-client-r" class="section-name selfRef">Processing Explicit Client Registration Response by RP</a>
          </h4>
<ol start="1" type="1" class="normal type-1" id="section-12.2.5-1">
<li id="section-12.2.5-1.1">
              <p id="section-12.2.5-1.1.1">
                    If the response indicates success, the RP MUST verify that
                    its content is a valid Entity Statement and issued by the OP.<a href="#section-12.2.5-1.1.1" class="pilcrow">¶</a></p>
<p id="section-12.2.5-1.1.2">

                    The RP MUST ensure the signing Federation Entity Key used
                    by the OP is present in the
                    <code>jwks</code> Claim of the Subordinate Statement
                    issued by the OP's Immediate Superior
                    in a Trust Chain that the RP successfully resolved for the
                    OP when it prepared the Explicit Registration request.<a href="#section-12.2.5-1.1.2" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.5-1.2">
              <p id="section-12.2.5-1.2.1">
                    The RP MUST verify that the <code>aud</code> (audience)
                    Claim Value is its Entity Identifier.<a href="#section-12.2.5-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.5-1.3">
              <p id="section-12.2.5-1.3.1">
                    The RP MUST verify that the
                    <code>trust_anchor</code> represents one
                    of its own Trust Anchors.
     If complete Trust Chains to the Trust Anchor selected by the RP
     were provided in the request and/or by using the
     <code>peer_trust_chain</code> header parameter,
     the RP MUST verify that this matches
     the Trust Anchors at the root of those Trust Chains.<a href="#section-12.2.5-1.3.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.5-1.4">
              <p id="section-12.2.5-1.4.1">
                    The RP MUST verify that at least one of the
                    <code>authority_hints</code> it specified in
                    the Explicit Registration request leads to the Trust Anchor
                    that the OP set in the
                    <code>trust_anchor</code> Claim.<a href="#section-12.2.5-1.4.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.5-1.5">
              <p id="section-12.2.5-1.5.1">
                    The RP MUST first ensure that the information it was registered with
                    at the OP contains the same set of Entity Types as the request does.
                    After having collected a Trust Chain using the response Claim
                    <code>trust_anchor</code> as the
                    Entity Identifier for the Trust Anchor and
                    <code>authority_hints</code> as starting points
                    for the Trust Chain collection,
                    the RP SHOULD verify that the response metadata for each entity type is valid
                    by applying the resolved policies to the received metadata, as
                    specified in <span><a href="https://openid.net/specs/openid-federation-1_1.html#metadata_policy_resolution" class="relref">Section 6.1.4.1</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#section-12.2.5-1.5.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-12.2.5-1.6">
              <p id="section-12.2.5-1.6.1">
                    If the received registration Entity Statement does not pass the above
                    checks, the RP MUST reject it. The RP MAY choose to retry
                    the Explicit Registration request to work around a
                    transient exception, for example, due to a recent change of
                    Entity metadata or metadata policy causing temporary
                    misalignment of metadata.<a href="#section-12.2.5-1.6.1" class="pilcrow">¶</a></p>
</li>
          </ol>
</section>
</div>
<div id="AfterExplicitReg">
<section id="section-12.2.6">
          <h4 id="name-explicit-client-registration-">
<a href="#section-12.2.6" class="section-number selfRef">12.2.6. </a><a href="#name-explicit-client-registration-" class="section-name selfRef">Explicit Client Registration Lifetime</a>
          </h4>
<p id="section-12.2.6-1">
            An RP can utilize the <code>exp</code> Claim of the
            registration Entity Statement to devise a suitable strategy for
            renewing its client registration. RP implementers should note that
            if the RP's registration has expired at the OP,
     this can cause OpenID Connect authentication requests, token requests,
     and/or UserInfo requests to fail. Renewing the RP's registration
            prior to its expiration can prevent such errors from
            occurring and ensure the end-user experience is not disrupted.<a href="#section-12.2.6-1" class="pilcrow">¶</a></p>
<p id="section-12.2.6-2">
            An OP MAY invalidate a client registration before the expiration
            that is indicated in the registration Entity Statement for the RP.
            An example reason could be the OP leaving the federation that was
            used to register the RP.<a href="#section-12.2.6-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="client_reg_trust_re_eval">
<section id="section-12.3">
        <h3 id="name-registration-validity-and-t">
<a href="#section-12.3" class="section-number selfRef">12.3. </a><a href="#name-registration-validity-and-t" class="section-name selfRef">Registration Validity and Trust Reevaluation</a>
        </h3>
<p id="section-12.3-1">
          The validity of an Automatic or Explicit Registration at an OP MUST
          NOT exceed the lifetime of the Trust Chain the OP used to create the
          registration. An OP MAY choose to expire the registration at some
          earlier time, or choose to perform additional periodic reevaluations
          of the Trust Chain for the registered RP before the Trust Chain
          reaches its expiration time.<a href="#section-12.3-1" class="pilcrow">¶</a></p>
<p id="section-12.3-2">
          Similarly, an RP that obtained an Automatic or Explicit Registration
          MUST NOT use it past the expiration of the Trust Chain the RP used to
          establish trust in the OP. For an RP using Automatic Registration, the
          trust in the OP MUST be successfully reevaluated before continuing to
          make requests to the OP. For an RP using Explicit Registration, the RP
          MUST successfully renew its registration. An RP MAY choose to perform
          additional periodic reevaluations of the Trust Chain for the OP
          before the Trust Chain reaches its expiration time.<a href="#section-12.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="AutomaticVsExplicit">
<section id="section-12.4">
        <h3 id="name-differences-between-automat">
<a href="#section-12.4" class="section-number selfRef">12.4. </a><a href="#name-differences-between-automat" class="section-name selfRef">Differences between Automatic Registration and Explicit Registration</a>
        </h3>
<p id="section-12.4-1">
          The primary differences between Automatic Registration and Explicit Registration are:<a href="#section-12.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.4-2.1">
            <p id="section-12.4-2.1.1">
              With Automatic Registration, there is no registration step prior to the Authentication Request,
              whereas with Explicit Registration, there is.
              (<span><a href="#OpenID.Registration" class="internal xref">OpenID Connect Dynamic Client Registration 1.0</a> [<a href="#OpenID.Registration" class="cite xref">OpenID.Registration</a>]</span>
              and <span><a href="#RFC7591" class="internal xref">OAuth 2.0 Dynamic Client Registration</a> [<a href="#RFC7591" class="cite xref">RFC7591</a>]</span>
              also employ a prior registration step.)<a href="#section-12.4-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-12.4-2.2">
            <p id="section-12.4-2.2.1">
              With Automatic Registration, the Client ID value is the RP's Entity Identifier
              and is supplied to the OP by the RP,
              whereas with Explicit Registration, a Client ID is assigned by the OP and supplied to the RP.<a href="#section-12.4-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-12.4-2.3">
            <p id="section-12.4-2.3.1">
       With Automatic Registration, the Client is authenticated by means of
       the RP proving that it controls a private key
              corresponding to one of its Entity Configuration's public keys.
       Whereas with Explicit Registration, a broader set of options
       is available for authenticating the Client,
       including the use of a Client Secret.<a href="#section-12.4-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="TrustChainRationale">
<section id="section-12.5">
        <h3 id="name-rationale-for-trust-chains-">
<a href="#section-12.5" class="section-number selfRef">12.5. </a><a href="#name-rationale-for-trust-chains-" class="section-name selfRef">Rationale for Trust Chains in the Request</a>
        </h3>
<p id="section-12.5-1">
          Both Automatic and Explicit Client Registration support
          the submission of the Trust Chain embedded in the Request,
          calculated by the requestor, and related to itself.

          This provides the following benefits:<a href="#section-12.5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.5-2.1">
            <p id="section-12.5-2.1.1">
            It solves the problem of OPs using RP metadata that has become stale.
            This stale data may occur when the OP uses cached RP metadata from a Trust Chain
            that has not reached its expiration time yet.
            The RP MAY notify the OP that a change has taken place by including
            the <code>trust_chain</code> header parameter
            or the <code>trust_chain</code> request parameter
     in the request,
            thus letting the OP update its Client Registration
     and preventing potential temporary faults due to stale metadata.<a href="#section-12.5-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-12.5-2.2">
            <p id="section-12.5-2.2.1">
            It enables the RP to pass a verifiable hint for which trust path to
            take to build the Trust Chain. This can reduce the costs
            of RP Federation Entity Discovery for OPs in complex federations where the
            RP has multiple Trust Anchors or the Trust Chain resolution may
            result in dead-ends.<a href="#section-12.5-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-12.5-2.3">
            <p id="section-12.5-2.3.1">
            It enables direct passing of the Entity Configuration, including
            any present Trust Marks, thus saving the OP from having to make
            an HTTP request to the RP
            <code>/.well-known/openid-federation</code>
            endpoint.<a href="#section-12.5-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-12.5-3">
   Both also support the submission of the Peer Trust Chain,
   which provides a Trust Chain between the OP
   and the Trust Anchor the RP selected.
   As described in <span><a href="https://openid.net/specs/openid-federation-1_1.html#peer_trust_chain_head_param" class="relref">Section 4.4</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>,
   inclusion of both Trust Chains enables achieving
   the Federation Integrity and Metadata Integrity properties,
   as defined in <span>[<a href="#App-Fed-Linkage" class="cite xref">App-Fed-Linkage</a>]</span>.<a href="#section-12.5-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="GeneralPurposeClaims">
<section id="section-13">
      <h2 id="name-general-purpose-jwt-claims">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-general-purpose-jwt-claims" class="section-name selfRef">General-Purpose JWT Claims</a>
      </h2>
<p id="section-13-1">
 This specification defines no general-purpose JWT Claims.
 Those defined in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#GeneralPurposeClaims" class="relref">Section 13</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>
 are used by this specification.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ClaimsLanguagesAndScripts">
<section id="section-14">
      <h2 id="name-claims-languages-and-script">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-claims-languages-and-script" class="section-name selfRef">Claims Languages and Scripts</a>
      </h2>
<p id="section-14-1">
        Human-readable Claim Values and Claim Values that reference human-readable values
        MAY be represented in multiple languages and scripts.
        This specification enables such representations in the same manner as defined in
        Section 5.2 of <span><a href="#OpenID.Core" class="internal xref">OpenID Connect Core 1.0</a> [<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>.<a href="#section-14-1" class="pilcrow">¶</a></p>
<p id="section-14-2">
        As described in OpenID Connect Core,
 to specify the languages and scripts, <span><a href="#RFC5646" class="internal xref">BCP47</a> [<a href="#RFC5646" class="cite xref">RFC5646</a>]</span> language tags are added to member names,
        delimited by a <code>#</code> character.  For example,
        <code>family_name#ja-Kana-JP</code> expresses the
        Family Name in Katakana in Japanese, which is commonly used to index
        and represent the phonetics of the Kanji representation of the same name
        represented as <code>family_name#ja-Hani-JP</code>.<a href="#section-14-2" class="pilcrow">¶</a></p>
<p id="section-14-3">
 Language tags can be used in any data structures
 containing or referencing human-readable values,
 including metadata parameters and Trust Mark parameters.
 For instance, both <code>organization_name</code> and
 <code>organization_name#de</code> might occur together in metadata.<a href="#section-14-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="MediaTypes">
<section id="section-15">
      <h2 id="name-media-types">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-media-types" class="section-name selfRef">Media Types</a>
      </h2>
<p id="section-15-1">
 This media type <span>[<a href="#RFC2046" class="cite xref">RFC2046</a>]</span> is defined by this specification.<a href="#section-15-1" class="pilcrow">¶</a></p>
<div id="explicit-registration-response_jwt">
<section id="section-15.1">
        <h3 id="name-application-explicit-regist">
<a href="#section-15.1" class="section-number selfRef">15.1. </a><a href="#name-application-explicit-regist" class="section-name selfRef">"application/explicit-registration-response+jwt" Media Type</a>
        </h3>
<p id="section-15.1-1">
   The <code>application/explicit-registration-response+jwt</code>
   media type is used to specify that the associated content is
   an Explicit Registration response, as defined in <a href="#cliregresp" class="auto internal xref">Section 12.2.3</a>.
   No parameters are used with this media type.<a href="#section-15.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="StringOps">
<section id="section-16">
      <h2 id="name-string-operations">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-string-operations" class="section-name selfRef">String Operations</a>
      </h2>
<p id="section-16-1">
 Processing some OpenID Federation messages requires comparing
 values in the messages to other values.
 For example, the Entity Identifier in
 an <code>iss</code> Claim might be compared to
 the Entity Identifier in a <code>sub</code> Claim.
 Comparing Unicode <span>[<a href="#UNICODE" class="cite xref">UNICODE</a>]</span> strings,
 however, has significant security implications.<a href="#section-16-1" class="pilcrow">¶</a></p>
<p id="section-16-2">
 Therefore, comparisons between JSON strings and other Unicode
 strings MUST be performed as specified below:<a href="#section-16-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-16-3">
<li id="section-16-3.1">
          <p id="section-16-3.1.1">
     Remove any JSON applied escaping to produce an array of
     Unicode code points.<a href="#section-16-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-16-3.2">
          <p id="section-16-3.2.1">
     Unicode Normalization <span>[<a href="#USA15" class="cite xref">USA15</a>]</span> MUST NOT
     be applied at any point to either the JSON string or to
     the string it is to be compared against.<a href="#section-16-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-16-3.3">
          <p id="section-16-3.3.1">
     Comparisons between the two strings MUST be performed as a
     Unicode code point to code point equality comparison.<a href="#section-16-3.3.1" class="pilcrow">¶</a></p>
</li>
      </ol>
<p id="section-16-4">
 Note that this is the same comparison procedure as specified in
 Section 14 of <span><a href="#OpenID.Core" class="internal xref">OpenID Connect Core 1.0</a> [<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>.<a href="#section-16-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Implementation">
<section id="section-17">
      <h2 id="name-implementation-consideratio">
<a href="#section-17" class="section-number selfRef">17. </a><a href="#name-implementation-consideratio" class="section-name selfRef">Implementation Considerations</a>
      </h2>
<p id="section-17-1">
 The Implementation Considerations described in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#Implementation" class="relref">Section 17</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>
 apply to this specification.<a href="#section-17-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-18">
      <h2 id="name-security-considerations">
<a href="#section-18" class="section-number selfRef">18. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-18-1">
 The Security Considerations described in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#Security" class="relref">Section 18</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>
 apply to this specification.
 These additional Security Considerations also apply.<a href="#section-18-1" class="pilcrow">¶</a></p>
<div id="DoS">
<section id="section-18.1">
        <h3 id="name-denial-of-service-attack-pr">
<a href="#section-18.1" class="section-number selfRef">18.1. </a><a href="#name-denial-of-service-attack-pr" class="section-name selfRef">Denial-of-Service Attack Prevention</a>
        </h3>
<p id="section-18.1-1">
          Some of the interfaces defined in this specification could be used for
          Denial-of-Service attacks (DoS), most notably,
          Explicit Client Registration
          (<a href="#explicit" class="auto internal xref">Section 12.2</a>), and
          Automatic Client Registration (<a href="#automatic" class="auto internal xref">Section 12.1</a>) can
          be exploited as vectors of HTTP propagation attacks.
          Below is an explanation of how such an attack can occur and
          the countermeasures to prevent it.<a href="#section-18.1-1" class="pilcrow">¶</a></p>
<p id="section-18.1-2">
          An adversary, providing hundreds of fake
          <code>authority_hints</code>
          in its Entity Configuration,
          could exploit the Federation Entity Discovery mechanism
          to propagate many HTTP requests.
          Imagine an adversary controlling an RP that sends an authorization
          request to an OP. For each request crafted
          by the adversary, the OP produces one request for
          the adversary's Entity Configuration and another one
          for each URL found in the <code>authority_hints</code>.<a href="#section-18.1-2" class="pilcrow">¶</a></p>
<p id="section-18.1-3">
          If these endpoints are provided, some adequate defense methods are required,
          such as those described below and in
          <span>[<a href="#RFC4732" class="cite xref">RFC4732</a>]</span>.<a href="#section-18.1-3" class="pilcrow">¶</a></p>
<p id="section-18.1-4">
          Entities may be required to include a
          Trust Chain
          in their requests, as explained in <a href="#UsingAuthzRequestObject" class="auto internal xref">Section 12.1.1.1</a>.
          The static Trust Chain gives a predefined trust path,
          meaning that Federation Entity Discovery need not be performed.
          In this case, the propagation attacks will
          be prevented since the Trust Chain can be statically validated with
          a public key of the Trust Anchor.<a href="#section-18.1-4" class="pilcrow">¶</a></p>
<p id="section-18.1-5">
   Passing request objects by reference (using the
   <code>request_uri</code> request parameter)
   may not be supported by some deployments,
   as described in <a href="#authn-request" class="auto internal xref">Section 12.1.1</a>, to eliminate a mechanism
   by which an attacker could otherwise require OPs
   to retrieve arbitrary content under the control of the attacker.<a href="#section-18.1-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="privacy">
<section id="section-19">
      <h2 id="name-privacy-considerations">
<a href="#section-19" class="section-number selfRef">19. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<p id="section-19-1">
 The Privacy Considerations described in
 <span><a href="https://openid.net/specs/openid-federation-1_1.html#privacy" class="relref">Section 19</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>
 apply to this specification.<a href="#section-19-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-20">
      <h2 id="name-iana-considerations">
<a href="#section-20" class="section-number selfRef">20. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-20-1">
 This specification makes no requests of IANA.
 It relies on the IANA registrations already made in
 <span><a href="https://openid.net/specs/openid-federation-1_0.html#IANA" class="relref">Section 20</a> of [<a href="#OpenID.Federation-1.0" class="cite xref">OpenID.Federation-1.0</a>]</span>.<a href="#section-20-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-21">
      <h2 id="name-references">
<a href="#section-21" class="section-number selfRef">21. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-21.1">
        <h3 id="name-normative-references">
<a href="#section-21.1" class="section-number selfRef">21.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="OpenID.Core">[OpenID.Core]</dt>
        <dd>
<span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">Jones, M.B.</span>, <span class="refAuthor">de Medeiros, B.</span>, and <span class="refAuthor">C. Mortimore</span>, <span class="refTitle">"OpenID Connect Core 1.0"</span>, <time datetime="2023-12-15" class="refDate">15 December 2023</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OpenID.Discovery">[OpenID.Discovery]</dt>
        <dd>
<span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">Jones, M.B.</span>, and <span class="refAuthor">E. Jay</span>, <span class="refTitle">"OpenID Connect Discovery 1.0"</span>, <time datetime="2023-12-15" class="refDate">15 December 2023</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-discovery-1_0.html">https://openid.net/specs/openid-connect-discovery-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OpenID.Federation-1.1">[OpenID.Federation-1.1]</dt>
        <dd>
<span class="refAuthor">Hedberg, R.</span>, <span class="refAuthor">Jones, M.B., Ed.</span>, <span class="refAuthor">De Marco, G.</span>, <span class="refAuthor">Solberg, A.Å.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">V. Dzhuvinov</span>, <span class="refTitle">"OpenID Federation 1.1"</span>, <time datetime="2026-01-20" class="refDate">20 January 2026</time>, <span>&lt;<a href="https://openid.net/specs/openid-federation-1_1.html">https://openid.net/specs/openid-federation-1_1.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OpenID.Registration">[OpenID.Registration]</dt>
        <dd>
<span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">M.B. Jones</span>, <span class="refTitle">"OpenID Connect Dynamic Client Registration 1.0"</span>, <time datetime="2023-12-15" class="refDate">15 December 2023</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-registration-1_0.html">https://openid.net/specs/openid-connect-registration-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OpenID.RP.Choices">[OpenID.RP.Choices]</dt>
        <dd>
<span class="refAuthor">Jones, M.B.</span>, <span class="refAuthor">Hedberg, R.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">F. Skokan</span>, <span class="refTitle">"OpenID Connect Relying Party Metadata Choices 1.0"</span>, <time datetime="2026-01-08" class="refDate">8 January 2026</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-rp-metadata-choices-1_0.html">https://openid.net/specs/openid-connect-rp-metadata-choices-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4732">[RFC4732]</dt>
        <dd>
<span class="refAuthor">Handley, M., Ed.</span>, <span class="refAuthor">Rescorla, E., Ed.</span>, and <span class="refAuthor">IAB</span>, <span class="refTitle">"Internet Denial-of-Service Considerations"</span>, <span class="seriesInfo">RFC 4732</span>, <span class="seriesInfo">DOI 10.17487/RFC4732</span>, <time datetime="2006-12" class="refDate">December 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4732">https://www.rfc-editor.org/info/rfc4732</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5646">[RFC5646]</dt>
        <dd>
<span class="refAuthor">Phillips, A., Ed.</span> and <span class="refAuthor">M. Davis, Ed.</span>, <span class="refTitle">"Tags for Identifying Languages"</span>, <span class="seriesInfo">BCP 47</span>, <span class="seriesInfo">RFC 5646</span>, <span class="seriesInfo">DOI 10.17487/RFC5646</span>, <time datetime="2009-09" class="refDate">September 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5646">https://www.rfc-editor.org/info/rfc5646</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6749">[RFC6749]</dt>
        <dd>
<span class="refAuthor">Hardt, D., Ed.</span>, <span class="refTitle">"The OAuth 2.0 Authorization Framework"</span>, <span class="seriesInfo">RFC 6749</span>, <span class="seriesInfo">DOI 10.17487/RFC6749</span>, <time datetime="2012-10" class="refDate">October 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6749">https://www.rfc-editor.org/info/rfc6749</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7515">[RFC7515]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Signature (JWS)"</span>, <span class="seriesInfo">RFC 7515</span>, <span class="seriesInfo">DOI 10.17487/RFC7515</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7515">https://www.rfc-editor.org/info/rfc7515</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7516">[RFC7516]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span> and <span class="refAuthor">J. Hildebrand</span>, <span class="refTitle">"JSON Web Encryption (JWE)"</span>, <span class="seriesInfo">RFC 7516</span>, <span class="seriesInfo">DOI 10.17487/RFC7516</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7516">https://www.rfc-editor.org/info/rfc7516</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7517">[RFC7517]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refTitle">"JSON Web Key (JWK)"</span>, <span class="seriesInfo">RFC 7517</span>, <span class="seriesInfo">DOI 10.17487/RFC7517</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7517">https://www.rfc-editor.org/info/rfc7517</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7519">[RFC7519]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Token (JWT)"</span>, <span class="seriesInfo">RFC 7519</span>, <span class="seriesInfo">DOI 10.17487/RFC7519</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7519">https://www.rfc-editor.org/info/rfc7519</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7591">[RFC7591]</dt>
        <dd>
<span class="refAuthor">Richer, J., Ed.</span>, <span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">Machulak, M.</span>, and <span class="refAuthor">P. Hunt</span>, <span class="refTitle">"OAuth 2.0 Dynamic Client Registration Protocol"</span>, <span class="seriesInfo">RFC 7591</span>, <span class="seriesInfo">DOI 10.17487/RFC7591</span>, <time datetime="2015-07" class="refDate">July 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7591">https://www.rfc-editor.org/info/rfc7591</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8414">[RFC8414]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Sakimura, N.</span>, and <span class="refAuthor">J. Bradley</span>, <span class="refTitle">"OAuth 2.0 Authorization Server Metadata"</span>, <span class="seriesInfo">RFC 8414</span>, <span class="seriesInfo">DOI 10.17487/RFC8414</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8414">https://www.rfc-editor.org/info/rfc8414</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8705">[RFC8705]</dt>
        <dd>
<span class="refAuthor">Campbell, B.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">Sakimura, N.</span>, and <span class="refAuthor">T. Lodderstedt</span>, <span class="refTitle">"OAuth 2.0 Mutual-TLS Client Authentication and Certificate-Bound Access Tokens"</span>, <span class="seriesInfo">RFC 8705</span>, <span class="seriesInfo">DOI 10.17487/RFC8705</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8705">https://www.rfc-editor.org/info/rfc8705</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9101">[RFC9101]</dt>
        <dd>
<span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">M. Jones</span>, <span class="refTitle">"The OAuth 2.0 Authorization Framework: JWT-Secured Authorization Request (JAR)"</span>, <span class="seriesInfo">RFC 9101</span>, <span class="seriesInfo">DOI 10.17487/RFC9101</span>, <time datetime="2021-08" class="refDate">August 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9101">https://www.rfc-editor.org/info/rfc9101</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9126">[RFC9126]</dt>
        <dd>
<span class="refAuthor">Lodderstedt, T.</span>, <span class="refAuthor">Campbell, B.</span>, <span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Tonge, D.</span>, and <span class="refAuthor">F. Skokan</span>, <span class="refTitle">"OAuth 2.0 Pushed Authorization Requests"</span>, <span class="seriesInfo">RFC 9126</span>, <span class="seriesInfo">DOI 10.17487/RFC9126</span>, <time datetime="2021-09" class="refDate">September 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9126">https://www.rfc-editor.org/info/rfc9126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9728">[RFC9728]</dt>
        <dd>
<span class="refAuthor">Jones, M.B.</span>, <span class="refAuthor">Hunt, P.</span>, and <span class="refAuthor">A. Parecki</span>, <span class="refTitle">"OAuth 2.0 Protected Resource Metadata"</span>, <span class="seriesInfo">RFC 9728</span>, <span class="seriesInfo">DOI 10.17487/RFC9728</span>, <time datetime="2025-04" class="refDate">April 2025</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9728">https://www.rfc-editor.org/info/rfc9728</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="UNICODE">[UNICODE]</dt>
        <dd>
<span class="refAuthor">The Unicode Consortium</span>, <span class="refTitle">"The Unicode Standard"</span>, <span>&lt;<a href="http://www.unicode.org/versions/latest/">http://www.unicode.org/versions/latest/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="USA15">[USA15]</dt>
      <dd>
<span class="refAuthor">Whistler, K.</span>, <span class="refTitle">"Unicode Normalization Forms"</span>, <span class="seriesInfo">Unicode Standard Annex 15</span>, <time datetime="2025-07-30" class="refDate">30 July 2025</time>, <span>&lt;<a href="https://www.unicode.org/reports/tr15/">https://www.unicode.org/reports/tr15/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-21.2">
        <h3 id="name-informative-references">
<a href="#section-21.2" class="section-number selfRef">21.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="App-Fed-Linkage">[App-Fed-Linkage]</dt>
        <dd>
<span class="refAuthor">Dzhuvinov, V.</span>, <span class="refTitle">"How to link an application protocol to an OpenID Federation 1.0 trust layer"</span>, <time datetime="2024-12-04" class="refDate">4 December 2024</time>, <span>&lt;<a href="https://connect2id.com/blog/how-to-link-an-app-protocol-to-an-openid-federation-trust-layer">https://connect2id.com/blog/how-to-link-an-app-protocol-to-an-openid-federation-trust-layer</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="FAPI">[FAPI]</dt>
        <dd>
<span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">E. Jay</span>, <span class="refTitle">"Financial-grade API Security Profile 1.0 - Part 2: Advanced"</span>, <time datetime="2021-03-12" class="refDate">12 March 2021</time>, <span>&lt;<a href="https://openid.net/specs/openid-financial-api-part-2-1_0.html">https://openid.net/specs/openid-financial-api-part-2-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.OAuth.Parameters">[IANA.OAuth.Parameters]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"OAuth Parameters"</span>, <span>&lt;<a href="https://www.iana.org/assignments/oauth-parameters">https://www.iana.org/assignments/oauth-parameters</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OpenID.Federation-1.0">[OpenID.Federation-1.0]</dt>
        <dd>
<span class="refAuthor">Hedberg, R., Ed.</span>, <span class="refAuthor">Jones, M.B.</span>, <span class="refAuthor">Solberg, A.Å.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">De Marco, G.</span>, and <span class="refAuthor">V. Dzhuvinov</span>, <span class="refTitle">"OpenID Federation 1.0"</span>, <time datetime="2026-01-20" class="refDate">20 January 2026</time>, <span>&lt;<a href="https://openid.net/specs/openid-federation-1_0.html">https://openid.net/specs/openid-federation-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2046">[RFC2046]</dt>
        <dd>
<span class="refAuthor">Freed, N.</span> and <span class="refAuthor">N. Borenstein</span>, <span class="refTitle">"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"</span>, <span class="seriesInfo">RFC 2046</span>, <span class="seriesInfo">DOI 10.17487/RFC2046</span>, <time datetime="1996-11" class="refDate">November 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2046">https://www.rfc-editor.org/info/rfc2046</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8725">[RFC8725]</dt>
        <dd>
<span class="refAuthor">Sheffer, Y.</span>, <span class="refAuthor">Hardt, D.</span>, and <span class="refAuthor">M. Jones</span>, <span class="refTitle">"JSON Web Token Best Current Practices"</span>, <span class="seriesInfo">BCP 225</span>, <span class="seriesInfo">RFC 8725</span>, <span class="seriesInfo">DOI 10.17487/RFC8725</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8725">https://www.rfc-editor.org/info/rfc8725</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9525">[RFC9525]</dt>
      <dd>
<span class="refAuthor">Saint-Andre, P.</span> and <span class="refAuthor">R. Salz</span>, <span class="refTitle">"Service Identity in TLS"</span>, <span class="seriesInfo">RFC 9525</span>, <span class="seriesInfo">DOI 10.17487/RFC9525</span>, <time datetime="2023-11" class="refDate">November 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9525">https://www.rfc-editor.org/info/rfc9525</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="FederationExamples">
<section id="appendix-A">
      <h2 id="name-examples-building-and-using">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-examples-building-and-using" class="section-name selfRef">Examples Building and Using Trust Chains</a>
      </h2>
<p id="appendix-A-1">
        Let us assume the following: The project LIGO would like to offer access
        to its wiki to all OPs in eduGAIN. LIGO is registered with the InCommon
        federation.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2" class="keepWithNext">
   The following depicts a federation under the eduGAIN Trust Anchor:<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<span id="name-participants-in-the-edugain"></span><figure id="figure-7">
        <div class="alignLeft art-text artwork" id="appendix-A-3.1">
<pre>
                       eduGAIN
                          |
       +------------------+------------------+
       |                                     |
    SWAMID                               InCommon
       |                                     |
     umu.se                                  |
       |                                     |
   op.umu.se                           wiki.ligo.org
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-participants-in-the-edugain" class="selfRef">Participants in the eduGAIN Federation</a>
        </figcaption></figure>
<p id="appendix-A-4">
        Both SWAMID and InCommon are identity federations in their own right.
        They also have in common that they are both members of
        the eduGAIN federation.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
<p id="appendix-A-5">
        SWAMID and InCommon are different in how they register Entities.
        SWAMID registers organizations and lets the organizations register
        Entities that belong to the organization, while InCommon registers all
        Entities directly and not beneath any organization Entity.
        Hence the differences in depth in the federations.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
<p id="appendix-A-6">
        Let us assume a researcher from Umeå University would like to
        login to
        the LIGO Wiki. At the Wiki, the researcher will use some kind of
        discovery service to find the home identity provider (op.umu.se).<a href="#appendix-A-6" class="pilcrow">¶</a></p>
<p id="appendix-A-7">
        Once the RP part of the Wiki knows which OP it SHOULD talk to, it has
        to find out a few things about the OP. All those things
        can be found in the metadata. But finding the metadata is not enough;
        the RP also has to trust the metadata.<a href="#appendix-A-7" class="pilcrow">¶</a></p>
<p id="appendix-A-8">
        Let us make a detour and start with what it takes to build a federation.<a href="#appendix-A-8" class="pilcrow">¶</a></p>
<div id="federation_intro">
<section id="appendix-A.1">
        <h3 id="name-setting-up-a-federation">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-setting-up-a-federation" class="section-name selfRef">Setting Up a Federation</a>
        </h3>
<p id="appendix-A.1-1">
          These are the steps to set up a federation infrastructure:<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-2.1">
            <p id="appendix-A.1-2.1.1">
              Generation of Trust Anchor signing keys. These MUST be public/private key pairs.<a href="#appendix-A.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-2.2">
            <p id="appendix-A.1-2.2.1">
              Set up a signing service that can sign JWTs/Entity Statements
              using the Federation Entity Keys.<a href="#appendix-A.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-2.3">
            <p id="appendix-A.1-2.3.1">
              Set up web services that can publish signed Entity Statements,
              one for the URL corresponding to the federation's Entity Identifier returning
              an Entity Configuration and the other one providing the fetch endpoint,
       as described in <span><a href="https://openid.net/specs/openid-federation-1_1.html#fetch_statement" class="relref">Section 8.1.1</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#appendix-A.1-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="appendix-A.1-3">
          Once these requirements have been satisfied, a Federation Operator
          can add Entities to the federation.
          Adding an Entity comes down to:<a href="#appendix-A.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-4.1">
            <p id="appendix-A.1-4.1.1">
              Providing the Entity with the
              federation's Entity Identifier and the public part of the key pairs used
              by the federation operator for signing Entity Statements.<a href="#appendix-A.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-4.2">
            <p id="appendix-A.1-4.2.1">
              Getting the Entity's Entity Identifier and the JWK Set that the Entity
              plans to publish in its Entity Configuration.<a href="#appendix-A.1-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="appendix-A.1-5">
          Before the federation operator starts adding Entities, there must
          be policies on who can be part of the federation and the
          layout of the federation. Is it supposed to be a one-layer federation
          like InCommon, a two-layer one like the SWAMID federation,
          or a multi-layer federation?
          The federation may also want to consider implementing other
          policies using the federation policy framework,
          as described in <a href="#federation_policy" class="auto internal xref">Section 6</a>.<a href="#appendix-A.1-5" class="pilcrow">¶</a></p>
<p id="appendix-A.1-6">
          With the federation in place, things can start happening.<a href="#appendix-A.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="op_discovery">
<section id="appendix-A.2">
        <h3 id="name-the-ligo-wiki-discovers-the">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-the-ligo-wiki-discovers-the" class="section-name selfRef">The LIGO Wiki Discovers the OP's Metadata</a>
        </h3>
<p id="appendix-A.2-1">
          Federation Entity Discovery is a sequence of steps that starts with the RP
          fetching the Entity Configuration of the OP's Entity (in this case,
          https://op.umu.se) using the process defined in
          <a href="#federation_configuration" class="auto internal xref">Section 9</a>.
          What follows that is this sequence of steps:<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-A.2-2">
<li id="appendix-A.2-2.1">
            <p id="appendix-A.2-2.1.1">
       Pick out the Immediate Superior Entities using the authority hints.<a href="#appendix-A.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="appendix-A.2-2.2">
            <p id="appendix-A.2-2.2.1">
              Fetch the Entity Configuration for each such Entity. This uses the
              process defined in
              <a href="#federation_configuration" class="auto internal xref">Section 9</a>.<a href="#appendix-A.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li id="appendix-A.2-2.3">
            <p id="appendix-A.2-2.3.1">
              Use the fetch endpoint of each Immediate Superior to
              obtain Subordinate Statements about the Immediate Subordinate Entity,
              per <span><a href="https://openid.net/specs/openid-federation-1_1.html#fetch_statement" class="relref">Section 8.1.1</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#appendix-A.2-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<p id="appendix-A.2-3">
          How many times this has to be repeated depends on the depth of the
          federation. What follows below is the result of each step the RP
          has to take to find the OP's metadata using the federation setup
          described above.<a href="#appendix-A.2-3" class="pilcrow">¶</a></p>
<p id="appendix-A.2-4">
          When building the Trust Chain, the Subordinate Statements issued
          by each Immediate Superior about their Immediate Subordinates are used together with the
          Entity Configuration of the Trust Chain subject.<a href="#appendix-A.2-4" class="pilcrow">¶</a></p>
<p id="appendix-A.2-5">
          The Entity Configurations of Intermediates are not
          part of the Trust Chain.<a href="#appendix-A.2-5" class="pilcrow">¶</a></p>
<div id="ec-for-op">
<section id="appendix-A.2.1">
          <h4 id="name-entity-configuration-for-ht">
<a href="#appendix-A.2.1" class="section-number selfRef">A.2.1. </a><a href="#name-entity-configuration-for-ht" class="section-name selfRef">Entity Configuration for https://op.umu.se</a>
          </h4>
<p id="appendix-A.2.1-1">The LIGO WIKI RP fetches the Entity Configuration from the
            OP (op.umu.se)
            using the process defined in <a href="#federation_configuration" class="auto internal xref">Section 9</a>.<a href="#appendix-A.2.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-2" class="keepWithNext">The result is this Entity Configuration:<a href="#appendix-A.2.1-2" class="pilcrow">¶</a></p>
<span id="name-entity-configuration-issued"></span><figure id="figure-8">
            <div class="alignLeft art-text artwork" id="appendix-A.2.1-3.1">
<pre>
{
  "authority_hints": [
    "https://umu.se"
  ],
  "exp": 1568397247,
  "iat": 1568310847,
  "iss": "https://op.umu.se",
  "sub": "https://op.umu.se",
  "jwks": {
    "keys": [
      {
        "e": "AQAB",
        "kid": "dEEtRjlzY3djcENuT01wOGxrZlkxb3RIQVJlMTY0...",
        "kty": "RSA",
        "n": "x97YKqc9Cs-DNtFrQ7_vhXoH9bwkDWW6En2jJ044yH..."
      }
    ]
  },
  "metadata": {
    "openid_provider": {
      "issuer": "https://op.umu.se",
      "signed_jwks_uri": "https://op.umu.se/jwks.jose",
      "authorization_endpoint":
        "https://op.umu.se/authorization",
      "client_registration_types_supported": [
        "automatic",
        "explicit"
      ],
      "request_parameter_supported": true,
      "grant_types_supported": [
        "authorization_code",
        "implicit",
        "urn:ietf:params:oauth:grant-type:jwt-bearer"
      ],
      "id_token_signing_alg_values_supported": [
        "ES256", "RS256"
      ],
      "logo_uri":
        "https://www.umu.se/img/umu-logo-left-neg-SE.svg",
      "op_policy_uri":
        "https://www.umu.se/en/website/legal-information/",
      "response_types_supported": [
        "code",
        "code id_token",
        "token"
      ],
      "subject_types_supported": [
        "pairwise",
        "public"
      ],
      "token_endpoint": "https://op.umu.se/token",
      "federation_registration_endpoint":
        "https://op.umu.se/fedreg",
      "token_endpoint_auth_methods_supported": [
        "client_secret_post",
        "client_secret_basic",
        "client_secret_jwt",
        "private_key_jwt"
      ]
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-entity-configuration-issued" class="selfRef">Entity Configuration Issued by https://op.umu.se</a>
            </figcaption></figure>
<p id="appendix-A.2.1-4">
            The <code>authority_hints</code> points to the
            Intermediate Entity <code>https://umu.se</code>.
            So that is the next step.<a href="#appendix-A.2.1-4" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-5">
            This Entity Configuration is the first link in the Trust Chain.<a href="#appendix-A.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ec-for-umu">
<section id="appendix-A.2.2">
          <h4 id="name-entity-configuration-for-htt">
<a href="#appendix-A.2.2" class="section-number selfRef">A.2.2. </a><a href="#name-entity-configuration-for-htt" class="section-name selfRef">Entity Configuration for https://umu.se</a>
          </h4>
<p id="appendix-A.2.2-1">The LIGO RP fetches the Entity Configuration from
            https://umu.se using the process defined in
            <a href="#federation_configuration" class="auto internal xref">Section 9</a>.<a href="#appendix-A.2.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.2-2" class="keepWithNext">
       The request will look like this:<a href="#appendix-A.2.2-2" class="pilcrow">¶</a></p>
<span id="name-entity-configuration-issued-"></span><figure id="figure-9">
            <div class="alignLeft art-text artwork" id="appendix-A.2.2-3.1">
<pre>
GET /.well-known/openid-federation HTTP/1.1
Host: umu.se
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-entity-configuration-issued-" class="selfRef">Entity Configuration Issued by https://umu.se</a>
            </figcaption></figure>
<p id="appendix-A.2.2-4" class="keepWithNext">
       And the GET will return:<a href="#appendix-A.2.2-4" class="pilcrow">¶</a></p>
<span id="name-entity-configuration-jwt-cl"></span><figure id="figure-10">
            <div class="alignLeft art-text artwork" id="appendix-A.2.2-5.1">
<pre>
{
  "authority_hints": [
    "https://swamid.se"
  ],
  "exp": 1568397247,
  "iat": 1568310847,
  "iss": "https://umu.se",
  "sub": "https://umu.se",
  "jwks": {
    "keys": [
      {
        "e": "AQAB",
        "kid": "endwNUZrNTJsX2NyQlp4bjhVcTFTTVltR2gxV2RV...",
        "kty": "RSA",
        "n": "vXdXzZwQo0hxRSmZEcDIsnpg-CMEkor50SOG-1XUlM..."
      }
    ]
  },
  "metadata": {
    "federation_entity": {
      "contacts": ["ops@umu.se"],
      "federation_fetch_endpoint": "https://umu.se/openid/fedapi",
      "organization_uri": "https://www.umu.se",
      "organization_name": "UmU"
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-entity-configuration-jwt-cl" class="selfRef">Entity Configuration JWT Claims Set</a>
            </figcaption></figure>
<p id="appendix-A.2.2-6">
            The only piece of information that is used from this Entity Configuration
            in this process is
            the <code>federation_fetch_endpoint</code>,
            which is used in the next step.<a href="#appendix-A.2.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ss-about-op">
<section id="appendix-A.2.3">
          <h4 id="name-subordinate-statement-publi">
<a href="#appendix-A.2.3" class="section-number selfRef">A.2.3. </a><a href="#name-subordinate-statement-publi" class="section-name selfRef">Subordinate Statement Published by https://umu.se about https://op.umu.se</a>
          </h4>
<p id="appendix-A.2.3-1">
            The RP uses the fetch endpoint provided by https://umu.se
            to fetch information about
            https://op.umu.se.<a href="#appendix-A.2.3-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.3-2" class="keepWithNext">
       The request will look like this:<a href="#appendix-A.2.3-2" class="pilcrow">¶</a></p>
<span id="name-request-subordinate-stateme"></span><figure id="figure-11">
            <div class="alignLeft art-text artwork" id="appendix-A.2.3-3.1">
<pre>
GET /openid/fedapi?sub=https%3A%2F%2Fop.umu.se&amp;
iss=https%3A%2F%2Fumu.se HTTP/1.1
Host: umu.se
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-request-subordinate-stateme" class="selfRef">Request Subordinate Statement from https://umu.se about https://op.umu.se</a>
            </figcaption></figure>
<p id="appendix-A.2.3-4" class="keepWithNext">
       And the result is this:<a href="#appendix-A.2.3-4" class="pilcrow">¶</a></p>
<span id="name-subordinate-statement-issue"></span><figure id="figure-12">
            <div class="alignLeft art-text artwork" id="appendix-A.2.3-5.1">
<pre>
{
  "exp": 1568397247,
  "iat": 1568310847,
  "iss": "https://umu.se",
  "sub": "https://op.umu.se",
  "source_endpoint": "https://umu.se/openid/fedapi",
  "jwks": {
    "keys": [
      {
        "e": "AQAB",
        "kid": "dEEtRjlzY3djcENuT01wOGxrZlkxb3RIQVJlMTY0...",
        "kty": "RSA",
        "n": "x97YKqc9Cs-DNtFrQ7_vhXoH9bwkDWW6En2jJ044yH..."
      }
    ]
  },
  "metadata_policy": {
    "openid_provider": {
      "contacts": {
        "add": [
          "ops@swamid.se"
        ]
      },
      "organization_name": {
        "value": "University of Umeå"
      },
      "subject_types_supported": {
        "value": [
          "pairwise"
        ]
      },
      "token_endpoint_auth_methods_supported": {
        "default": [
          "private_key_jwt"
        ],
        "subset_of": [
          "private_key_jwt",
          "client_secret_jwt"
        ],
        "superset_of": [
          "private_key_jwt"
        ]
      }
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-subordinate-statement-issue" class="selfRef">Subordinate Statement Issued by https://umu.se about https://op.umu.se</a>
            </figcaption></figure>
<p id="appendix-A.2.3-6">
            This Subordinate Statement is the second link in the Trust Chain.<a href="#appendix-A.2.3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ec-for-swamid">
<section id="appendix-A.2.4">
          <h4 id="name-entity-configuration-for-http">
<a href="#appendix-A.2.4" class="section-number selfRef">A.2.4. </a><a href="#name-entity-configuration-for-http" class="section-name selfRef">Entity Configuration for https://swamid.se</a>
          </h4>
<p id="appendix-A.2.4-1">The LIGO Wiki RP fetches the Entity Configuration from
            https://swamid.se using the process defined in
            <a href="#federation_configuration" class="auto internal xref">Section 9</a>.<a href="#appendix-A.2.4-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.4-2" class="keepWithNext">
       The request will look like this:<a href="#appendix-A.2.4-2" class="pilcrow">¶</a></p>
<span id="name-request-entity-configuratio"></span><figure id="figure-13">
            <div class="alignLeft art-text artwork" id="appendix-A.2.4-3.1">
<pre>
GET /.well-known/openid-federation HTTP/1.1
Host: swamid.se
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-request-entity-configuratio" class="selfRef">Request Entity Configuration from https://swamid.se</a>
            </figcaption></figure>
<p id="appendix-A.2.4-4" class="keepWithNext">
       And the GET will return:<a href="#appendix-A.2.4-4" class="pilcrow">¶</a></p>
<span id="name-entity-configuration-issued-b"></span><figure id="figure-14">
            <div class="alignLeft art-text artwork" id="appendix-A.2.4-5.1">
<pre>
{
  "authority_hints": [
    "https://edugain.geant.org"
  ],
  "exp": 1568397247,
  "iat": 1568310847,
  "iss": "https://swamid.se",
  "sub": "https://swamid.se",
  "jwks": {
    "keys": [
      {
        "e": "AQAB",
        "kid": "N1pQTzFxUXZ1RXVsUkVuMG5uMnVDSURGRVdhUzdO...",
        "kty": "RSA",
        "n": "3EQc6cR_GSBq9km9-WCHY_lWJZWkcn0M05TGtH6D9S..."
      }
    ]
  },
  "metadata": {
    "federation_entity": {
      "contacts": ["ops@swamid.se"],
      "federation_fetch_endpoint":
        "https://swamid.se/fedapi",
      "organization_uri": "https://www.sunet.se/swamid/",
      "organization_name": "SWAMID"
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-entity-configuration-issued-b" class="selfRef">Entity Configuration Issued by https://swamid.se</a>
            </figcaption></figure>
<p id="appendix-A.2.4-6">
            The only piece of information that is used from this Entity Configuration
            in this process is
            the <code>federation_fetch_endpoint</code>,
            which is used in the next step.<a href="#appendix-A.2.4-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ss-about-umu">
<section id="appendix-A.2.5">
          <h4 id="name-subordinate-statement-publis">
<a href="#appendix-A.2.5" class="section-number selfRef">A.2.5. </a><a href="#name-subordinate-statement-publis" class="section-name selfRef">Subordinate Statement Published by https://swamid.se about https://umu.se</a>
          </h4>
<p id="appendix-A.2.5-1">
            The LIGO Wiki RP uses the fetch endpoint provided by
            https://swamid.se
            to fetch information about
            https://umu.se.<a href="#appendix-A.2.5-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.5-2" class="keepWithNext">
       The request will look like this:<a href="#appendix-A.2.5-2" class="pilcrow">¶</a></p>
<span id="name-request-to-https-swamidse-f"></span><figure id="figure-15">
            <div class="alignLeft art-text artwork" id="appendix-A.2.5-3.1">
<pre>
GET /fedapi?sub=https%3A%2F%2Fumu.se&amp;
iss=https%3A%2F%2Fswamid.se HTTP/1.1
Host: swamid.se
</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-request-to-https-swamidse-f" class="selfRef">Request to https://swamid.se for Subordinate Statement about https://umu.se</a>
            </figcaption></figure>
<p id="appendix-A.2.5-4" class="keepWithNext">
       And the result is this:<a href="#appendix-A.2.5-4" class="pilcrow">¶</a></p>
<span id="name-subordinate-statement-issued"></span><figure id="figure-16">
            <div class="alignLeft art-text artwork" id="appendix-A.2.5-5.1">
<pre>
{
  "exp": 1568397247,
  "iat": 1568310847,
  "iss": "https://swamid.se",
  "sub": "https://umu.se",
  "source_endpoint": "https://swamid.se/fedapi",
  "jwks": {
    "keys": [
      {
        "e": "AQAB",
        "kid": "endwNUZrNTJsX2NyQlp4bjhVcTFTTVltR2gxV2RV...",
        "kty": "RSA",
        "n": "vXdXzZwQo0hxRSmZEcDIsnpg-CMEkor50SOG-1XUlM..."
      }
    ]
  },
  "metadata_policy": {
    "openid_provider": {
      "id_token_signing_alg_values_supported": {
        "subset_of": [
          "RS256",
          "ES256",
          "ES384",
          "ES512"
        ]
      },
      "token_endpoint_auth_methods_supported": {
        "subset_of": [
          "client_secret_jwt",
          "private_key_jwt"
        ]
      },
      "userinfo_signing_alg_values_supported": {
        "subset_of": [
          "ES256",
          "ES384",
          "ES512"
        ]
      }
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a>:
<a href="#name-subordinate-statement-issued" class="selfRef">Subordinate Statement Issued by https://swamid.se about https://umu.se</a>
            </figcaption></figure>
<p id="appendix-A.2.5-6">
            This Subordinate Statement is the third link in the Trust Chain.<a href="#appendix-A.2.5-6" class="pilcrow">¶</a></p>
<p id="appendix-A.2.5-7">
            If we assume that the issuer of this Subordinate Statement is not in the
            list of Trust Anchors the LIGO Wiki RP has access to, we have to go
            one step further.<a href="#appendix-A.2.5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ec-for-edugain">
<section id="appendix-A.2.6">
          <h4 id="name-entity-configuration-for-https">
<a href="#appendix-A.2.6" class="section-number selfRef">A.2.6. </a><a href="#name-entity-configuration-for-https" class="section-name selfRef">Entity Configuration for https://edugain.geant.org</a>
          </h4>
<p id="appendix-A.2.6-1">The RP fetches the Entity Configuration from
            https://edugain.geant.org using the process defined in
            <a href="#federation_configuration" class="auto internal xref">Section 9</a>.<a href="#appendix-A.2.6-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.6-2" class="keepWithNext">
       The request will look like this:<a href="#appendix-A.2.6-2" class="pilcrow">¶</a></p>
<span id="name-entity-configuration-reques"></span><figure id="figure-17">
            <div class="alignLeft art-text artwork" id="appendix-A.2.6-3.1">
<pre>
GET /.well-known/openid-federation HTTP/1.1
Host: edugain.geant.org
</pre>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a>:
<a href="#name-entity-configuration-reques" class="selfRef">Entity Configuration Requested from https://edugain.geant.org</a>
            </figcaption></figure>
<p id="appendix-A.2.6-4" class="keepWithNext">
       And the GET will return:<a href="#appendix-A.2.6-4" class="pilcrow">¶</a></p>
<span id="name-entity-configuration-issued-by"></span><figure id="figure-18">
            <div class="alignLeft art-text artwork" id="appendix-A.2.6-5.1">
<pre>
{
  "exp": 1568397247,
  "iat": 1568310847,
  "iss": "https://edugain.geant.org",
  "sub": "https://edugain.geant.org",
  "jwks": {
    "keys": [
      {
        "e": "AQAB",
        "kid": "Sl9DcjFxR3hrRGdabUNIR21KT3dvdWMyc2VUM2Fr...",
        "kty": "RSA",
        "n": "xKlwocDXUw-mrvDSO4oRrTRrVuTwotoBFpozvlq-1q..."
      }
    ]
  },
  "metadata": {
    "federation_entity": {
      "federation_fetch_endpoint": "https://geant.org/edugain/api"
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a>:
<a href="#name-entity-configuration-issued-by" class="selfRef">Entity Configuration issued by https://edugain.geant.org</a>
            </figcaption></figure>
<p id="appendix-A.2.6-6">
            Within the Trust Anchor Entity Configuration, the Relying Party
            looks for the <code>federation_fetch_endpoint</code>
            and gets the updated Federation Entity Keys of the Trust Anchor.
            Each Entity within a
            Federation may change their Federation Entity Keys,
            or any other attributes, at any time. See
            <span><a href="https://openid.net/specs/openid-federation-1_1.html#key_rollover_anchor" class="relref">Section 11.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span> for further details.<a href="#appendix-A.2.6-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ss-about-swamid">
<section id="appendix-A.2.7">
          <h4 id="name-subordinate-statement-publish">
<a href="#appendix-A.2.7" class="section-number selfRef">A.2.7. </a><a href="#name-subordinate-statement-publish" class="section-name selfRef">Subordinate Statement Published by https://edugain.geant.org about https://swamid.se</a>
          </h4>
<p id="appendix-A.2.7-1">
            The LIGO Wiki RP uses the fetch endpoint of
            https://edugain.geant.org
            to fetch information about
            "https://swamid.se".<a href="#appendix-A.2.7-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.7-2" class="keepWithNext">
     The request will look like this:<a href="#appendix-A.2.7-2" class="pilcrow">¶</a></p>
<span id="name-request-to-https-edugaingea"></span><figure id="figure-19">
            <div class="alignLeft art-text artwork" id="appendix-A.2.7-3.1">
<pre>
GET /edugain/api?sub=https%3A%2F%2Fswamid.se&amp;
iss=https%3A%2F%2Fedugain.geant.org HTTP/1.1
Host: geant.org
</pre>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a>:
<a href="#name-request-to-https-edugaingea" class="selfRef">Request to https://edugain.geant.org for Subordinate Statement about https://swamid.se</a>
            </figcaption></figure>
<p id="appendix-A.2.7-4" class="keepWithNext">
       And the result is this:<a href="#appendix-A.2.7-4" class="pilcrow">¶</a></p>
<span id="name-subordinate-statement-issued-"></span><figure id="figure-20">
            <div class="alignLeft art-text artwork" id="appendix-A.2.7-5.1">
<pre>
{
  "exp": 1568397247,
  "iat": 1568310847,
  "iss": "https://edugain.geant.org",
  "sub": "https://swamid.se",
  "source_endpoint": "https://edugain.geant.org/edugain/api",
  "jwks": {
    "keys": [
      {
        "e": "AQAB",
        "kid": "N1pQTzFxUXZ1RXVsUkVuMG5uMnVDSURGRVdhUzdO...",
        "kty": "RSA",
        "n": "3EQc6cR_GSBq9km9-WCHY_lWJZWkcn0M05TGtH6D9S..."
      }
    ]
  },
  "metadata_policy": {
    "openid_provider": {
      "contacts": {
        "add": ["ops@edugain.geant.org"]
      }
    },
    "openid_relying_party": {
      "contacts": {
        "add": ["ops@edugain.geant.org"]
      }
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-20" class="selfRef">Figure 20</a>:
<a href="#name-subordinate-statement-issued-" class="selfRef">Subordinate Statement issued by https://edugain.geant.org about https://swamid.se</a>
            </figcaption></figure>
<p id="appendix-A.2.7-6">
            If we assume that the issuer of this statement appears in the list
            of Trust Anchors the LIGO Wiki RP has access to,
     this Subordinate Statement would be the fourth link in the Trust Chain.
     The Trust Anchor's Entity Configuration MAY also be included in
     the Trust Chain; in this case, it would be the fifth and final link.<a href="#appendix-A.2.7-6" class="pilcrow">¶</a></p>
<p id="appendix-A.2.7-7">
     We have now retrieved all the members of the Trust Chain.
     Recapping, these Entity Statements were obtained:<a href="#appendix-A.2.7-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2.7-8.1">
              <p id="appendix-A.2.7-8.1.1">
 Entity Configuration for the Leaf Entity https://op.umu.se
 - the first link in the Trust Chain<a href="#appendix-A.2.7-8.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.2.7-8.2">
              <p id="appendix-A.2.7-8.2.1">
 Entity Configuration for https://umu.se
 - not included in the Trust Chain<a href="#appendix-A.2.7-8.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.2.7-8.3">
              <p id="appendix-A.2.7-8.3.1">
 Subordinate Statement issued by https://umu.se about https://op.umu.se
 - the second link in the Trust Chain<a href="#appendix-A.2.7-8.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.2.7-8.4">
              <p id="appendix-A.2.7-8.4.1">
 Entity Configuration for https://swamid.se
 - not included in the Trust Chain<a href="#appendix-A.2.7-8.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.2.7-8.5">
              <p id="appendix-A.2.7-8.5.1">
 Subordinate Statement issued by https://swamid.se about https://umu.se
 - the third link in the Trust Chain<a href="#appendix-A.2.7-8.5.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.2.7-8.6">
              <p id="appendix-A.2.7-8.6.1">
 Entity Configuration for https://edugain.geant.org
 - optionally, the fifth and last link in the Trust Chain<a href="#appendix-A.2.7-8.6.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.2.7-8.7">
              <p id="appendix-A.2.7-8.7.1">
 Subordinate Statement issued by https://edugain.geant.org about https://swamid.se
 - the fourth link in the Trust Chain<a href="#appendix-A.2.7-8.7.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="appendix-A.2.7-9">
            Using the public keys of the Trust Anchor that the LIGO Wiki RP has
            been
            provided within some secure out-of-band way, it can now verify the
            Trust Chain as described in
            <span><a href="https://openid.net/specs/openid-federation-1_1.html#trust_chain_validation" class="relref">Section 10.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#appendix-A.2.7-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="metadata-for-op">
<section id="appendix-A.2.8">
          <h4 id="name-op-resolved-metadata-for-ht">
<a href="#appendix-A.2.8" class="section-number selfRef">A.2.8. </a><a href="#name-op-resolved-metadata-for-ht" class="section-name selfRef">OP Resolved Metadata for https://op.umu.se</a>
          </h4>
<p id="appendix-A.2.8-1">Having verified the chain, the LIGO Wiki RP can proceed with the
            next step.<a href="#appendix-A.2.8-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.8-2" class="keepWithNext">
       Combining the metadata policies from the three Subordinate Statements we
       have by
       Immediate Superiors about their Immediate Subordinates and applying the combined policy
       to the
       metadata statement that the Leaf Entity presented, we get
       the following Resolved Metadata for the
       <code>openid_provider</code> Entity Type:<a href="#appendix-A.2.8-2" class="pilcrow">¶</a></p>
<span id="name-op-resolved-metadata-derive"></span><figure id="figure-21">
            <div class="alignLeft art-text artwork" id="appendix-A.2.8-3.1">
<pre>
{
  "authorization_endpoint":
    "https://op.umu.se/authorization",
  "contacts": [
    "ops@swamid.se",
    "ops@edugain.geant.org"
  ],
  "federation_registration_endpoint":
    "https://op.umu.se/fedreg",
  "client_registration_types_supported": [
    "automatic",
    "explicit"
  ],
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "urn:ietf:params:oauth:grant-type:jwt-bearer"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256",
    "ES256"
  ],
  "issuer": "https://op.umu.se",
  "signed_jwks_uri": "https://op.umu.se/jwks.jose",
  "logo_uri":
    "https://www.umu.se/img/umu-logo-left-neg-SE.svg",
  "organization_name": "University of Umeå",
  "op_policy_uri":
    "https://www.umu.se/en/website/legal-information/",
  "request_parameter_supported": true,
  "response_types_supported": [
    "code",
    "code id_token",
    "token"
  ],
  "subject_types_supported": [
    "pairwise"
  ],
  "token_endpoint": "https://op.umu.se/token",
  "token_endpoint_auth_methods_supported": [
    "private_key_jwt",
    "client_secret_jwt"
  ]
}

</pre>
</div>
<figcaption><a href="#figure-21" class="selfRef">Figure 21</a>:
<a href="#name-op-resolved-metadata-derive" class="selfRef">OP Resolved Metadata Derived from Trust Chain by Applying Metadata Policies</a>
            </figcaption></figure>
<p id="appendix-A.2.8-4">
            We have now reached the end of the Provider Discovery process.<a href="#appendix-A.2.8-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ClientRegExample">
<section id="appendix-A.3">
        <h3 id="name-client-registration-method-">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-client-registration-method-" class="section-name selfRef">Client Registration Method Examples</a>
        </h3>
<p id="appendix-A.3-1">
          <a href="#client_registration" class="auto internal xref">Section 12</a> defines
          two methods for performing client registration:<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="appendix-A.3-2">
          <dt id="appendix-A.3-2.1">Automatic</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.3-2.2">
              No negotiation between the RP and the OP is made regarding
              what features the client SHOULD use in future communication occurs.
              The RP's published metadata filtered by the chosen Trust Chain's
              metadata policies defines the metadata that is to be used.<a href="#appendix-A.3-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.3-2.3">Explicit</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.3-2.4">
              The RP will access the
              <code>federation_registration_endpoint</code>,
              which provides the RP's metadata. The OP MAY return a
              metadata policy that adds restrictions over and above what the
              Trust Chain already has defined.<a href="#appendix-A.3-2.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<div id="AutomaticRegExample">
<section id="appendix-A.3.1">
          <h4 id="name-rp-sends-authentication-req">
<a href="#appendix-A.3.1" class="section-number selfRef">A.3.1. </a><a href="#name-rp-sends-authentication-req" class="section-name selfRef">RP Sends Authentication Request (Automatic Client Registration)</a>
          </h4>
<p id="appendix-A.3.1-1">
            The LIGO Wiki RP does not do any registration but goes directly to
            sending an Authentication Request.<a href="#appendix-A.3.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.3.1-2" class="keepWithNext">
       Here is an example of such an Authentication Request:<a href="#appendix-A.3.1-2" class="pilcrow">¶</a></p>
<span id="name-authentication-request-using"></span><figure id="figure-22">
            <div class="alignLeft art-text artwork" id="appendix-A.3.1-3.1">
<pre>
GET /openid/authorization?
  request=eyJ0eXAiOiJvYXV0aC1hdXRoei1yZXErand0IiwiYWxnIjoiU
    lMyNTYiLCJraWQiOiJkVU4yYTAxd1JraGtTV3BsUVRodmNWQklOVUl3
    VFVkT1VGVTJUbVZyU21oRVFYZ3paWGxwVHpkUU5BIn0.
    eyJyZXNwb25zZV90eXBlIjogImNvZGUiLCAic2NvcGUiOiAib3Blbml
    kIHByb2ZpbGUgZW1haWwiLCAiY2xpZW50X2lkIjogImh0dHBzOi8vd2
    lraS5saWdvLm9yZyIsICJzdGF0ZSI6ICIyZmY3ZTU4OS0zODQ4LTQ2Z
    GEtYTNkMi05NDllMTIzNWU2NzEiLCAibm9uY2UiOiAiZjU4MWExODYt
    YWNhNC00NmIzLTk0ZmMtODA0ODQwODNlYjJjIiwgInJlZGlyZWN0X3V
    yaSI6ICJodHRwczovL3dpa2kubGlnby5vcmcvb3BlbmlkL2NhbGxiYW
    NrIiwgImlzcyI6ICJodHRwczovL3dpa2kubGlnby5vcmciLCAiaWF0I
    jogMTU5MzU4ODA4NSwgImF1ZCI6ICJodHRwczovL29wLnVtdS5zZSJ9
    .cRwSFNcDx6VsacAQDcIx
    5OAt_Pj30I_uUKRh04N4QJd6MZ0f50sETRv8uspSt9fMa-5yV3uzthX
    _v8OtQrV33gW1vzgOSRCdHgeCN40StbzjFk102seDwtU_Uzrcsy7KrX
    YSBp8U0dBDjuxC6h18L8ExjeR-NFjcrhy0wwua7Tnb4QqtN0QCia6DD
    8QBNVTL1Ga0YPmMdT25wS26wug23IgpbZB20VUosmMGgGtS5yCI5AwK
    Bhozv-oBH5KxxHzH1Oss-RkIGiQnjRnaWwEOTITmfZWra1eHP254wFF
    2se-EnWtz1q2XwsD9NSsOEJwWJPirPPJaKso8ng6qrrOSgw
  &amp;response_type=code
  &amp;client_id=https%3A%2F%2Fwiki.ligo.org
  &amp;redirect_uri=https%3A%2F%2Fwiki.ligo.org/openid/callback
  &amp;scope=openid+profile+email
  HTTP/1.1
Host: op.umu.se
</pre>
</div>
<figcaption><a href="#figure-22" class="selfRef">Figure 22</a>:
<a href="#name-authentication-request-using" class="selfRef">Authentication Request using Automatic Client Registration</a>
            </figcaption></figure>
<p id="appendix-A.3.1-4">
            The OP receiving this Authentication Request will, unless the
            RP is already registered, start to dynamically fetch
            and
            establish trust with the RP.<a href="#appendix-A.3.1-4" class="pilcrow">¶</a></p>
<div id="op-fetches-ess">
<section id="appendix-A.3.1.1">
            <h5 id="name-op-fetches-entity-statement">
<a href="#appendix-A.3.1.1" class="section-number selfRef">A.3.1.1. </a><a href="#name-op-fetches-entity-statement" class="section-name selfRef">OP Fetches Entity Statements</a>
            </h5>
<p id="appendix-A.3.1.1-1">
              The OP needs to establish a Trust Chain for the RP
              (wiki.ligo.org).
              The OP in this example is configured with public keys of two
              federations:<a href="#appendix-A.3.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3.1.1-2.1">
                <p id="appendix-A.3.1.1-2.1.1">https://edugain.geant.org<a href="#appendix-A.3.1.1-2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="appendix-A.3.1.1-2.2">
                <p id="appendix-A.3.1.1-2.2.1">https://swamid.se<a href="#appendix-A.3.1.1-2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="appendix-A.3.1.1-3">
              The OP starts to resolve metadata for the Client Identifier
              https://wiki.ligo.org by fetching the Entity Configuration
              using
              the process described in <a href="#federation_configuration" class="auto internal xref">Section 9</a>.<a href="#appendix-A.3.1.1-3" class="pilcrow">¶</a></p>
<p id="appendix-A.3.1.1-4">
              The process is the same as described in
              <a href="#op_discovery" class="auto internal xref">Appendix A.2</a>
              and will result in a Trust Chain with the following Entity Statements:<a href="#appendix-A.3.1.1-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-A.3.1.1-5">
<li id="appendix-A.3.1.1-5.1">
                <p id="appendix-A.3.1.1-5.1.1">Entity Configuration for the Leaf Entity
                  https://wiki.ligo.org<a href="#appendix-A.3.1.1-5.1.1" class="pilcrow">¶</a></p>
</li>
              <li id="appendix-A.3.1.1-5.2">
                <p id="appendix-A.3.1.1-5.2.1">Subordinate Statement issued by https://incommon.org about
                  https://wiki.ligo.org<a href="#appendix-A.3.1.1-5.2.1" class="pilcrow">¶</a></p>
</li>
              <li id="appendix-A.3.1.1-5.3">
                <p id="appendix-A.3.1.1-5.3.1">Subordinate Statement issued by https://edugain.geant.org about
                  https://incommon.org<a href="#appendix-A.3.1.1-5.3.1" class="pilcrow">¶</a></p>
</li>
            </ol>
</section>
</div>
<div id="rp_metadata_eval">
<section id="appendix-A.3.1.2">
            <h5 id="name-op-evaluates-the-rp-metadat">
<a href="#appendix-A.3.1.2" class="section-number selfRef">A.3.1.2. </a><a href="#name-op-evaluates-the-rp-metadat" class="section-name selfRef">OP Evaluates the RP Metadata</a>
            </h5>
<p id="appendix-A.3.1.2-1">
              Using the public keys of the Trust Anchor that the LIGO Wiki RP
              has
              been
              provided within some secure out-of-band way, it can now verify
              the
              Trust Chain as described in
              <span><a href="https://openid.net/specs/openid-federation-1_1.html#trust_chain_validation" class="relref">Section 10.2</a> of [<a href="#OpenID.Federation-1.1" class="cite xref">OpenID.Federation-1.1</a>]</span>.<a href="#appendix-A.3.1.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.3.1.2-2">
              We will not list the complete Entity Statements but only the
              <code>metadata</code>
              and <code>metadata_policy</code> parts.
              There are two metadata policies:<a href="#appendix-A.3.1.2-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A.3.1.2-3">
              <dt id="appendix-A.3.1.2-3.1">edugain.geant.org:</dt>
              <dd style="margin-left: 1.5em" id="appendix-A.3.1.2-3.2">
                <span id="name-metadata-policies-related-t"></span><figure id="figure-23">
                  <div class="alignLeft art-text artwork" id="appendix-A.3.1.2-3.2.1.1">
<pre>
"metadata_policy": {
  "openid_provider": {
    "contacts": {
      "add": ["ops@edugain.geant.org"]
    }
  },
  "openid_relying_party": {
    "contacts": {
      "add": ["ops@edugain.geant.org"]
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-23" class="selfRef">Figure 23</a>:
<a href="#name-metadata-policies-related-t" class="selfRef">Metadata Policies Related to Multiple Metadata Types</a>
                  </figcaption></figure><a href="#appendix-A.3.1.2-3.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="appendix-A.3.1.2-4">
              <dt id="appendix-A.3.1.2-4.1">incommon.org:</dt>
              <dd style="margin-left: 1.5em" id="appendix-A.3.1.2-4.2">
                <span id="name-metadata-policy-related-to-"></span><figure id="figure-24">
                  <div class="alignLeft art-text artwork" id="appendix-A.3.1.2-4.2.1.1">
<pre>
"metadata_policy": {
  "openid_relying_party": {
    "application_type": {
      "one_of": [
        "web",
        "native"
      ]
    },
    "contacts": {
      "add": ["ops@incommon.org"]
    },
    "grant_types": {
      "subset_of": [
        "authorization_code",
        "refresh_token"
      ]
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-24" class="selfRef">Figure 24</a>:
<a href="#name-metadata-policy-related-to-" class="selfRef">Metadata Policy Related to the RP</a>
                  </figcaption></figure><a href="#appendix-A.3.1.2-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="appendix-A.3.1.2-5" class="keepWithNext">
 Next, combine these and apply them to the metadata for wiki.ligo.org:<a href="#appendix-A.3.1.2-5" class="pilcrow">¶</a></p>
<span id="name-combined-metadata-with-meta"></span><figure id="figure-25">
              <div class="alignLeft art-text artwork" id="appendix-A.3.1.2-6.1">
<pre>
"metadata": {
  "openid_relying_party": {
    "application_type": "web",
    "client_name": "LIGO Wiki",
    "contacts": [
      "ops@ligo.org"
    ],
    "grant_types": [
      "authorization_code",
      "refresh_token"
    ],
    "id_token_signing_alg_values_supported":
      ["ES256", "PS256", "RS256"],
    "signed_jwks_uri": "https://wiki.ligo.org/jwks.jose",
    "redirect_uris": [
      "https://wiki.ligo.org/openid/callback"
    ],
    "response_types": [
      "code"
    ],
    "subject_type": "public",
    "token_endpoint_auth_method": "private_key_jwt"
  }
}
</pre>
</div>
<figcaption><a href="#figure-25" class="selfRef">Figure 25</a>:
<a href="#name-combined-metadata-with-meta" class="selfRef">Combined Metadata with Metadata Policy Yet to be Applied</a>
              </figcaption></figure>
<p id="appendix-A.3.1.2-7" class="keepWithNext">
 The final result is:<a href="#appendix-A.3.1.2-7" class="pilcrow">¶</a></p>
<span id="name-resolved-metadata-after-met"></span><figure id="figure-26">
              <div class="alignLeft art-text artwork" id="appendix-A.3.1.2-8.1">
<pre>
"metadata": {
  "openid_relying_party": {
    "application_type": "web",
    "client_name": "LIGO Wiki",
    "contacts": [
      "ops@ligo.org",
      "ops@edugain.geant.org",
      "ops@incommon.org"
    ],
    "grant_types": [
      "refresh_token",
      "authorization_code"
    ],
    "id_token_signing_alg_values_supported":
      ["ES256", "PS256", "RS256"],
    "signed_jwks_uri": "https://wiki.ligo.org/jwks.jose",
    "redirect_uris": [
      "https://wiki.ligo.org/openid/callback"
    ],
    "response_types": [
      "code"
    ],
    "subject_type": "public",
    "token_endpoint_auth_method": "private_key_jwt"
  }
}
</pre>
</div>
<figcaption><a href="#figure-26" class="selfRef">Figure 26</a>:
<a href="#name-resolved-metadata-after-met" class="selfRef">Resolved Metadata After Metadata Policy has been Applied</a>
              </figcaption></figure>
<p id="appendix-A.3.1.2-9">
              Once the Trust Chain and the final Relying Party metadata
              have been obtained, the OpenID Provider has
              everything needed to validate the signature of the
              Request Object in the Authentication Request, using the
              public keys made available at the
              <code>signed_jwks_uri</code> endpoint.<a href="#appendix-A.3.1.2-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ExplicitRegExample">
<section id="appendix-A.3.2">
          <h4 id="name-rp-starts-with-client-regis">
<a href="#appendix-A.3.2" class="section-number selfRef">A.3.2. </a><a href="#name-rp-starts-with-client-regis" class="section-name selfRef">RP Starts with Client Registration (Explicit Client Registration)</a>
          </h4>
<p id="appendix-A.3.2-1">
            Here the LIGO Wiki RP sends an Explicit Registration request to the
            <code>federation_registration_endpoint</code>
            of the OP (op.umu.se). The request contains the RP's Entity Configuration.<a href="#appendix-A.3.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.3.2-2" class="keepWithNext">
       An example JWT Claims Set for the RP's Entity Configuration is:<a href="#appendix-A.3.2-2" class="pilcrow">¶</a></p>
<span id="name-rps-entity-configuration-jw"></span><figure id="figure-27">
            <div class="alignLeft art-text artwork" id="appendix-A.3.2-3.1">
<pre>
{
  "iss": "https://wiki.ligo.org",
  "sub": "https://wiki.ligo.org",
  "iat": 1676045527,
  "exp": 1676063610,
  "aud": "https://op.umu.se",
  "metadata": {
    "openid_relying_party": {
      "application_type": "web",
      "client_name": "LIGO Wiki",
      "contacts": ["ops@ligo.org"],
      "grant_types": ["authorization_code"],
      "id_token_signed_response_alg": "RS256",
      "signed_jwks_uri": "https://wiki.ligo.org/jwks.jose",
      "redirect_uris": [
        "https://wiki.ligo.org/openid/callback"
      ],
      "response_types": ["code"],
      "subject_type": "public"
    }
  },
  "jwks": {
    "keys": [
      {
        "kty": "RSA",
        "use": "sig",
        "kid": "U2JTWHY0VFg0a2FEVVdTaHptVDJsNDNiSDk5MXRBVEtNSFVkeXZwb",
        "e": "AQAB",
        "n": "4AZjgqFwMhTVSLrpzzNcwaCyVD88C_Hb3Bmor97vH-2AzldhuVb8K..."
      }
    ]
  },
  "authority_hints": ["https://incommon.org"]
}
</pre>
</div>
<figcaption><a href="#figure-27" class="selfRef">Figure 27</a>:
<a href="#name-rps-entity-configuration-jw" class="selfRef">RP's Entity Configuration JWT Claims Set</a>
            </figcaption></figure>
<p id="appendix-A.3.2-4">
            The OP receives the RP's Entity Configuration and proceeds with the
            sequence of steps laid out in <a href="#op_discovery" class="auto internal xref">Appendix A.2</a>.<a href="#appendix-A.3.2-4" class="pilcrow">¶</a></p>
<p id="appendix-A.3.2-5">
            The OP successfully resolves the same RP metadata described in
            <a href="#rp_metadata_eval" class="auto internal xref">Appendix A.3.1.2</a>. It then registers the RP in
            compliance with its own OP metadata and returns the result in a
            registration Entity Statement.<a href="#appendix-A.3.2-5" class="pilcrow">¶</a></p>
<p id="appendix-A.3.2-6">
            Assuming the OP does not support refresh tokens it will register
            the RP for the <code>authorization_code</code> grant
            type only. This is reflected in the metadata returned to the RP.<a href="#appendix-A.3.2-6" class="pilcrow">¶</a></p>
<p id="appendix-A.3.2-7">The returned metadata also includes the
            <code>client_id</code>, the
            <code>client_secret</code> and other parameters that
            the OP provisioned for the RP.<a href="#appendix-A.3.2-7" class="pilcrow">¶</a></p>
<p id="appendix-A.3.2-8" class="keepWithNext">
       Here is an example JWT Claims Set of the registration Entity Statement returned
       by the OP to the RP after successful explicit client registration:<a href="#appendix-A.3.2-8" class="pilcrow">¶</a></p>
<span id="name-jwt-claims-set-of-registrat"></span><figure id="figure-28">
            <div class="alignLeft art-text artwork" id="appendix-A.3.2-9.1">
<pre>
{
  "iss": "https://op.umu.se",
  "sub": "https://wiki.ligo.org",
  "aud": "https://wiki.ligo.org",
  "iat": 1601457619,
  "exp": 1601544019,
  "trust_anchor": "https://edugain.geant.org",
  "metadata": {
    "openid_relying_party": {
      "client_id": "m3GyHw",
      "client_secret_expires_at": 1604049619,
      "client_secret":
        "cb44eed577f3b5edf3e08362d47a0dc44630b3dc6ea99f7a79205",
      "client_id_issued_at": 1601457619,
      "application_type": "web",
      "client_name": "LIGO Wiki",
      "contacts": [
        "ops@edugain.geant.org",
        "ops@incommon.org",
        "ops@ligo.org"
      ],
      "grant_types": [
        "authorization_code"
      ],
      "id_token_signed_response_alg": "RS256",
      "signed_jwks_uri": "https://wiki.ligo.org/jwks.jose",
      "redirect_uris": [
        "https://wiki.ligo.org/openid/callback"
      ],
      "response_types": [
        "code"
      ],
      "subject_type": "public"
    }
  },
  "authority_hints": [
    "https://incommon.org"
  ],
  "jwks": {
    "keys": [
      {
        "kty": "RSA",
        "use": "sig",
        "kid": "U2JTWHY0VFg0a2FEVVdTaHptVDJsNDNiSDk5MXRBVEtNSFVkeXZwb",
        "e": "AQAB",
        "n": "4AZjgqFwMhTVSLrpzzNcwaCyVD88C_Hb3Bmor97vH-2AzldhuVb8K..."
      },
      {
        "kty": "EC",
        "use": "sig",
        "kid": "LWtFcklLOGdrW",
        "crv": "P-256",
        "x": "X2S1dFE7zokQDST0bfHdlOWxOc8FC1l4_sG1Kwa4l4s",
        "y": "812nU6OCKxgc2ZgSPt_dkXbYldG_smHJi4wXByDHc6g"
      }
    ]
  }
}
</pre>
</div>
<figcaption><a href="#figure-28" class="selfRef">Figure 28</a>:
<a href="#name-jwt-claims-set-of-registrat" class="selfRef">JWT Claims Set of Registration Entity Statement Returned by OP to RP after Explicit Client Registration</a>
            </figcaption></figure>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Notices">
<section id="appendix-B">
      <h2 id="name-notices">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-notices" class="section-name selfRef">Notices</a>
      </h2>
<p id="appendix-B-1">
        Copyright (c) 2026 The OpenID Foundation.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">
        The OpenID Foundation (OIDF) grants to any Contributor, developer,
        implementer, or other interested party a non-exclusive, royalty free,
        worldwide copyright license to reproduce, prepare derivative works from,
        distribute, perform and display, this Implementers Draft, Final
        Specification, or Final Specification Incorporating Errata Corrections
        solely for the purposes of (i) developing specifications,
        and (ii) implementing Implementers Drafts, Final Specifications,
        and Final Specification Incorporating Errata Corrections based
        on such documents, provided that attribution be made to the OIDF as the
        source of the material, but that such attribution does not indicate an
        endorsement by the OIDF.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">
        The technology described in this specification was made available
        from contributions from various sources, including members of the OpenID
        Foundation and others. Although the OpenID Foundation has taken steps to
        help ensure that the technology is available for distribution, it takes
        no position regarding the validity or scope of any intellectual property
        or other rights that might be claimed to pertain to the implementation
        or use of the technology described in this specification or the extent
        to which any license under such rights might or might not be available;
        neither does it represent that it has made any independent effort to
        identify any such rights. The OpenID Foundation and the contributors to
        this specification make no (and hereby expressly disclaim any)
        warranties (express, implied, or otherwise), including implied
        warranties of merchantability, non-infringement, fitness for a
        particular purpose, or title, related to this specification, and the
        entire risk as to implementing this specification is assumed by the
        implementer. The OpenID Intellectual Property Rights policy
        (found at openid.net) requires
        contributors to offer a patent promise not to assert certain patent
        claims against other contributors and against implementers.
        OpenID invites any interested party to bring to its attention any
        copyrights, patents, patent applications, or other proprietary rights
        that may cover technology that may be required to practice this
        specification.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="History">
<section id="appendix-C">
      <h2 id="name-document-history">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-document-history" class="section-name selfRef">Document History</a>
      </h2>
<p id="appendix-C-1">[[ To be removed from the final specification ]]<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">
 -01<a href="#appendix-C-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-3.1">
          <p id="appendix-C-3.1.1">
     Renamed this specification to OpenID Federation for OpenID Connect 1.1.
     It was previously named OpenID Connect Federation 1.1.<a href="#appendix-C-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-C-3.2">
          <p id="appendix-C-3.2.1">
     Merged in changes made to OpenID Federation 1.0 between
     January 7 and January 19, 2026.<a href="#appendix-C-3.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-C-4">
 -00<a href="#appendix-C-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-5.1">
          <p id="appendix-C-5.1.1">
     Began life as a copy of OpenID Federation 1.0 as of December 10, 2025.<a href="#appendix-C-5.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-C-5.2">
          <p id="appendix-C-5.2.1">
     Removed protocol-independent functionality.<a href="#appendix-C-5.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-C-5.3">
          <p id="appendix-C-5.3.1">
     Merged in changes made to OpenID Federation 1.0 as of January 7, 2026.<a href="#appendix-C-5.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="Acknowledgements">
<section id="appendix-D">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<div id="Ack1.1">
<section id="appendix-D.1">
        <h3 id="name-openid-federation-for-openi">
<a href="#name-openid-federation-for-openi" class="section-name selfRef">OpenID Federation for OpenID Connect 1.1 Acknowledgements</a>
        </h3>
<p id="appendix-D.1-1">
   The authors wish to acknowledge the contributions of the following
   individuals and organizations to this specification:
   Niels van Dijk
   and
   the SIROS Foundation.<a href="#appendix-D.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Ack1.0">
<section id="appendix-D.2">
        <h3 id="name-openid-federation-10-acknow">
<a href="#name-openid-federation-10-acknow" class="section-name selfRef">OpenID Federation 1.0 Acknowledgements</a>
        </h3>
<p id="appendix-D.2-1">
 The authors wish to acknowledge the contributions of the following
 individuals and organizations to this specification:
 Marcus Almgren,
 Patrick Amrein,
 Pål Axelsson,
 Pasquale Barbaro,
 Ralph Bragg,
 Peter Brand,
 Brian Campbell,
 David Chadwick,
 Michele D'Amico,
 Kushal Das,
 Andrii Deinega,
 Erick Domingues,
 Heather Flanagan,
 Michael Fraser,
 Samuel Gulliksson,
 Joseph Heenan,
 Pedram Hosseyni,
 Marko Ivančić,
 Łukasz Jaromin,
 Leif Johansson,
 Takahiko Kawasaki,
 Ralf Küsters,
 Torsten Lodderstedt,
 Josh Mandel,
 Francesco Marino,
 John Melati,
 Alexey Melnikov,
 Henri Mikkonen,
 Aaron Parecki,
 Eduardo Perottoni,
 Chris Phillips,
 Roberto Polli,
 Justin Richer,
 Jouke Roorda,
 Nat Sakimura,
 Mischa Sallé,
 Stefan Santesson,
 Marcos Sanz,
 Michael Schwartz,
 Giada Sciarretta,
 Amir Sharif,
 Yaron Sheffer,
 Sean Turner,
 Davide Vaghetti,
 Niels van Dijk,
 Tim Würtele,
 Kristina Yasuda,
 Gabriel Zachmann,
 the JRA3T3 task force of GEANT4-2,
 and
 the SIROS Foundation.<a href="#appendix-D.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-E">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Roland Hedberg</span></div>
<div dir="auto" class="left"><span class="org">independent</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:roland@catalogix.se" class="email">roland@catalogix.se</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael B. Jones (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Self-Issued Consulting</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:michael_b_jones@hotmail.com" class="email">michael_b_jones@hotmail.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://self-issued.info/" class="url">https://self-issued.info/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Giuseppe De Marco</span></div>
<div dir="auto" class="left"><span class="org">independent</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:demarcog83@gmail.com" class="email">demarcog83@gmail.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://www.linkedin.com/in/giuseppe-de-marco-bb054245/" class="url">https://www.linkedin.com/in/giuseppe-de-marco-bb054245/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Andreas Åkre Solberg</span></div>
<div dir="auto" class="left"><span class="org">Sikt</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Andreas.Solberg@sikt.no" class="email">Andreas.Solberg@sikt.no</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://www.linkedin.com/in/andreassolberg/" class="url">https://www.linkedin.com/in/andreassolberg/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">John Bradley</span></div>
<div dir="auto" class="left"><span class="org">Yubico</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ve7jtb@ve7jtb.com" class="email">ve7jtb@ve7jtb.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://www.linkedin.com/in/ve7jtb/" class="url">https://www.linkedin.com/in/ve7jtb/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Vladimir Dzhuvinov</span></div>
<div dir="auto" class="left"><span class="org">Connect2id</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:vladimir@connect2id.com" class="email">vladimir@connect2id.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://www.linkedin.com/in/vladimirdzhuvinov/" class="url">https://www.linkedin.com/in/vladimirdzhuvinov/</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
