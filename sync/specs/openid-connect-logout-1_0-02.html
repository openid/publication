<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Draft: OpenID Connect
    HTTP-Based Logout 1.0 - draft 02</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="OpenID Connect
    HTTP-Based Logout 1.0 - draft 02">
<meta name="generator" content="xml2rfc v1.37pre1 (http://xml.resource.org/)">
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: small; color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: small; font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: small; font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: small; text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Draft</td><td class="header">M. Jones</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">August 3, 2015</td></tr>
</table></td></tr></table>
<h1><br />OpenID Connect
    HTTP-Based Logout 1.0 - draft 02</h1>

<h3>Abstract</h3>

<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0
      protocol. It enables Clients to verify the identity of the End-User based
      on the authentication performed by an Authorization Server, as well as to
      obtain basic profile information about the End-User in an interoperable and
      REST-like manner.
</p>
<p>
	This specification defines an HTTP-based logout mechanism
	that does not need an OpenID Provider iframe on Relying Party pages.
	Other protocols have used HTTP GETs to RP URLs that clear login state
	to achieve this.
	This specification does the same thing.
	It also reuses the RP-initiated logout functionality specified in
	Section 5 of OpenID Connect Session Management 1.0 (RP-Initiated Logout).
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#Introduction">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rnc">1.1.</a>&nbsp;
Requirements Notation and Conventions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Terminology">1.2.</a>&nbsp;
Terminology<br />
<a href="#RPLogout">2.</a>&nbsp;
Relying Party Logout Functionality<br />
<a href="#OPLogout">3.</a>&nbsp;
OpenID Provider Logout Functionality<br />
<a href="#RPInitiated">4.</a>&nbsp;
RP-Initiated Logout Functionality<br />
<a href="#Security">5.</a>&nbsp;
Security Considerations<br />
<a href="#IANA">6.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ClaimsRegistry">6.1.</a>&nbsp;
JSON Web Token Claims Registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ClaimsContents">6.1.1.</a>&nbsp;
Registry Contents<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#DynRegRegistrations">6.2.</a>&nbsp;
OAuth Dynamic Client Registration Metadata Registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#DynRegContents">6.2.1.</a>&nbsp;
Registry Contents<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#Acknowledgements">Appendix&nbsp;A.</a>&nbsp;
Acknowledgements<br />
<a href="#Notices">Appendix&nbsp;B.</a>&nbsp;
Notices<br />
<a href="#History">Appendix&nbsp;C.</a>&nbsp;
Document History<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="Introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
	OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0
	<a class='info' href='#RFC6749'>[RFC6749]<span> (</span><span class='info'>Hardt, D., Ed., &ldquo;The OAuth 2.0 Authorization Framework,&rdquo; October&nbsp;2012.</span><span>)</span></a>
	protocol. It enables Clients to verify the identity of the End-User based
	on the authentication performed by an Authorization Server, as well as to
	obtain basic profile information about the End-User in an interoperable and 
	REST-like manner.
      
</p>
<p>
	This specification defines an HTTP-based logout mechanism
	that does not need an OpenID Provider iframe on Relying Party pages.
	Other protocols have used HTTP GETs to RP URLs that clear login state
	to achieve this.
	This specification does the same thing.
	It also reuses the RP-initiated logout functionality specified in
	Section 5 of <a class='info' href='#OpenID.Session'>OpenID Connect Session Management 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Session Management 1.0,&rdquo; August&nbsp;2015.</span><span>)</span></a> [OpenID.Session] (RP-Initiated Logout).
	This specification can be used separately from or in combination with
	OpenID Connect Session Management 1.0.
      
</p>
<a name="rnc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Notation and Conventions</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<p>
	  In the .txt version of this document,
	  values are quoted to indicate that they are to be taken literally.
	  When using these values in protocol messages,
	  the quotes MUST NOT be used as part of the value.
	  In the HTML version of this document,
	  values to be taken literally are indicated by
	  the use of <tt>this fixed-width font</tt>.
	
</p>
<a name="Terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Terminology</h3>

<p>
	  This specification uses the terms "Access Token", "Authorization Code",
	  "Authorization Endpoint", "Authorization Grant", "Authorization Server",
	  "Client", "Client Identifier", "Client Secret",
	  "Protected Resource", "Redirection URI", "Refresh Token",
	  "Resource Owner", "Resource Server", "Response Type", and "Token Endpoint"
	  defined by <a class='info' href='#RFC6749'>OAuth 2.0<span> (</span><span class='info'>Hardt, D., Ed., &ldquo;The OAuth 2.0 Authorization Framework,&rdquo; October&nbsp;2012.</span><span>)</span></a> [RFC6749],
	  the term "User Agent" defined by <a class='info' href='#RFC7230'>RFC 7230<span> (</span><span class='info'>Fielding, R., Ed. and J. Reschke, Ed., &ldquo;Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing,&rdquo; June&nbsp;2014.</span><span>)</span></a> [RFC7230],
	  and the terms defined by
	  <a class='info' href='#OpenID.Core'>OpenID Connect Core 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., and C. Mortimore, &ldquo;OpenID Connect Core 1.0,&rdquo; November&nbsp;2014.</span><span>)</span></a> [OpenID.Core].
	
</p>
<p>
	  This specification also defines the following terms:
	  </p>
<blockquote class="text"><dl>
<dt>Session</dt>
<dd>
	      
	      Continuous period of time during which an End-User
	      accesses a Relying Party relying on the Authentication
	      of the End-User performed by the OpenID Provider.
	    
</dd>
<dt>Session ID</dt>
<dd>
	      
	      Identifier for a Session.
	    
</dd>
</dl></blockquote><p>
	
</p>
<p>
	  IMPORTANT NOTE TO READERS: The terminology definitions in
	  this section are a normative portion of this specification,
	  imposing requirements upon implementations.  All the
	  capitalized words in the text of this specification, such as
	  "Session", reference these defined terms.
	  Whenever the reader encounters them, their definitions
	  found in this section must be followed.
	
</p>
<a name="RPLogout"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Relying Party Logout Functionality</h3>

<p>
	RPs supporting HTTP-based logout register a logout URI
	with the OP as part of their client registration.
	The domain, port, and scheme of this URL MUST be the same as that of
	a registered Redirection URI value.
      
</p>
<p>
	The logout URI MUST be an absolute URI as defined by
	<a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> Section 4.3. The logout URI MAY include an
	<tt>application/x-www-form-urlencoded</tt> formatted
	query component (<a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> Section 3.4),
	which MUST be retained when adding additional query parameters.
	The logout URI MUST NOT include a fragment component.
      
</p>
<p>
	The OP renders <tt>&lt;iframe src="logout_uri"&gt;</tt>
	in a page with the registered logout URI as the source
	to trigger the logout actions by the RP.
	Upon receiving a request to render the logout URI in an iframe,
	the RP clears state associated with the logged-in session,
	including any cookies and HTML5 local storage.
      
</p>
<p>
	The RP's response SHOULD include <tt>Cache-Control</tt>
	directives keeping the response from being cached to prevent cached responses
	from interfering with future logout requests.
	It is RECOMMENDED that these directives be used:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Cache-Control: no-cache, no-store
  Pragma: no-cache
</pre></div>
<p>
	In the case that the RP is also an OP serving as an identity provider
	to downstream logged-in sessions, it is desirable for the logout request
	to the RP to likewise trigger downstream logout requests.
	This is achieved by having the RP serve content in the iframe
	that contains logout requests to the downstream sessions,
	which themselves are nested iframes rendering the downstream logout URIs.
      
</p>
<p>
	If the RP supports
	<a class='info' href='#OpenID.Registration'>OpenID Connect Dynamic Client Registration 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., and M. Jones, &ldquo;OpenID Connect Dynamic Client Registration 1.0,&rdquo; November&nbsp;2014.</span><span>)</span></a> [OpenID.Registration],
	it uses this metadata value to register the logout URI:
      
</p>
<p>
	</p>
<blockquote class="text"><dl>
<dt>logout_uri</dt>
<dd>
	    
	    OPTIONAL.
	    RP URL that will cause the RP to log itself out
	    when rendered in an iframe by the OP.
	    A <tt>sid</tt> (session ID) query parameter MAY be included
	    by the OP to enable the RP to validate the request and to determine
	    which of the potentially multiple sessions is to be logged out.
	  
</dd>
</dl></blockquote><p>
      
</p>
<p>
	It SHOULD also register this related metadata value:
      
</p>
<p>
	</p>
<blockquote class="text"><dl>
<dt>logout_session_required</dt>
<dd>
	    
	    OPTIONAL.
	    Boolean value specifying whether the RP requires that
	    a <tt>sid</tt> (session ID)
	    query parameter be included to identify the RP session at the OP
	    when the <tt>logout_uri</tt> is used.
	    If omitted, the default value is <tt>false</tt>.
	  
</dd>
</dl></blockquote><p>
      
</p>
<a name="OPLogout"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
OpenID Provider Logout Functionality</h3>

<p>
	OPs supporting HTTP-based logout need to keep track of
	the set of logged-in RPs so that they know what RPs to contact
	at their logout URIs to cause them to log out.
	Some OPs track this state using a "visited sites" cookie.
	OPs contact them in parallel using a dynamically constructed page
	with HTML <tt>&lt;iframe src="logout_uri"&gt;</tt> tags
	rendering each logged-in RP's logout URI.
      
</p>
<p>
	If the OP supports
	<a class='info' href='#OpenID.Discovery'>OpenID Connect Discovery 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., and E. Jay, &ldquo;OpenID Connect Discovery 1.0,&rdquo; November&nbsp;2014.</span><span>)</span></a> [OpenID.Discovery],
	it uses this metadata value to advertise its support for HTTP-based logout:
      
</p>
<p>
	</p>
<blockquote class="text"><dl>
<dt>http_logout_supported</dt>
<dd>
	    
	    OPTIONAL.
	    Boolean value specifying whether the OP supports HTTP-based logout,
	    with <tt>true</tt> indicating support.
	    If omitted, the default value is <tt>false</tt>.
	  
</dd>
</dl></blockquote><p>
      
</p>
<p>
	It SHOULD also register this related metadata value:
      
</p>
<p>
	</p>
<blockquote class="text"><dl>
<dt>logout_session_supported</dt>
<dd>
	    
	    OPTIONAL.
	    Boolean value specifying whether the OP can pass
	    a <tt>sid</tt> (session ID)
	    query parameter to identify the RP session at the OP
	    when the <tt>logout_uri</tt> is used.
	    If supported, the <tt>sid</tt> claim is also included
	    in ID Tokens issued by the OP.
	    If omitted, the default value is <tt>false</tt>.
	  
</dd>
</dl></blockquote><p>
      
</p>
<p>
	The <tt>sid</tt> (session ID) claim used in ID Tokens and
	as a <tt>logout_uri</tt> parameter has the following definition:
      
</p>
<p>
	</p>
<blockquote class="text"><dl>
<dt>sid (session ID)</dt>
<dd>
	    
	    OPTIONAL.
	    String identifier for a Session - a pairing of an OP
	    to a User Agent or device for a logged-in End-User.
	    Its contents are unique to the OP and opaque to the RP.
	    It MUST have sufficient entropy to prevent
	    collisions between Session IDs generated by different OPs
	    and to prevent it from being guessed by potential attackers.
	    Its syntax is the same as an OAuth 2.0 Client Identifier.
	  
</dd>
</dl></blockquote><p>
      
</p>
<a name="RPInitiated"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
RP-Initiated Logout Functionality</h3>

<p>
	This specification incorporates the RP-initiated logout functionality
	specified in Section 5 of <a class='info' href='#OpenID.Session'>OpenID Connect Session Management 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Session Management 1.0,&rdquo; August&nbsp;2015.</span><span>)</span></a> [OpenID.Session]
	by reference.  A summary follows.
      
</p>
<p>
	RPs supporting HTTP-based logout and
	<a class='info' href='#OpenID.Registration'>OpenID Connect Dynamic Client Registration 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., and M. Jones, &ldquo;OpenID Connect Dynamic Client Registration 1.0,&rdquo; November&nbsp;2014.</span><span>)</span></a> [OpenID.Registration]
	MAY register this metadata value:
      
</p>
<p>
	</p>
<blockquote class="text"><dl>
<dt>post_logout_redirect_uris</dt>
<dd>
	    
	    OPTIONAL.
	    Array of URLs supplied by the RP to which it MAY request that
	    the End-User's User Agent be redirected using the
	    <tt>post_logout_redirect_uri</tt> parameter
	    after a logout has been performed.
	  
</dd>
</dl></blockquote><p>
      
</p>
<p>
	Post-logout redirection is only done when the logout is RP-initiated,
	in which case the redirection target is
	the <tt>post_logout_redirect_uri</tt> query parameter
	value used by the initiating RP;
	otherwise it is not done.
      
</p>
<p>
	OPs supporting HTTP-based logout and
	<a class='info' href='#OpenID.Discovery'>OpenID Connect Discovery 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., and E. Jay, &ldquo;OpenID Connect Discovery 1.0,&rdquo; November&nbsp;2014.</span><span>)</span></a> [OpenID.Discovery]
	MUST provide this discovery value:
      
</p>
<p>
	</p>
<blockquote class="text"><dl>
<dt>end_session_endpoint</dt>
<dd>
	    
	    REQUIRED.
	    URL at the OP to which an RP can perform a redirect to request that the
	    End-User be logged out at the OP.
	  
</dd>
</dl></blockquote><p>
      
</p>
<p>
	 The <tt>end_session_endpoint</tt> is used in exactly the same manner
	 as specified in Sections 2.1 and 5 of OpenID Connect Session Management,
	 including accepting the same query parameters as defined there in Section 5:
	 <tt>id_token_hint</tt>,
	 <tt>post_logout_redirect_uri</tt>,
	 and <tt>state</tt>.
      
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>
	Collisions between Session IDs and the guessing of their values by attackers
	are prevented by including sufficient entropy in Session ID values.
      
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<a name="ClaimsRegistry"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
JSON Web Token Claims Registration</h3>

<p>
	  This specification registers the following claim in the IANA
	  "JSON Web Token Claims" registry <a class='info' href='#IANA.JWT.Claims'>[IANA.JWT.Claims]<span> (</span><span class='info'>IANA, &ldquo;JSON Web Token Claims,&rdquo; .</span><span>)</span></a>
	  established by <a class='info' href='#JWT'>[JWT]<span> (</span><span class='info'>Jones, M., Bradley, J., and N. Sakimura, &ldquo;JSON Web Token (JWT),&rdquo; May&nbsp;2015.</span><span>)</span></a>.
	
</p>
<a name="ClaimsContents"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1"></a><h3>6.1.1.&nbsp;
Registry Contents</h3>

<p> 
	  </p>
<ul class="text">
<li>
	      Claim Name: <tt>sid</tt>
	    
</li>
<li>
	      Claim Description: Session ID
	    
</li>
<li>
	      Change Controller: OpenID Foundation Artifact Binding Working Group - openid-specs-ab@lists.openid.net
	    
</li>
<li>
	      Specification Document(s): <a class='info' href='#OPLogout'>Section&nbsp;3<span> (</span><span class='info'>OpenID Provider Logout Functionality</span><span>)</span></a> of this document
	    
</li>
</ul><p>
	  
</p>
<a name="DynRegRegistrations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
OAuth Dynamic Client Registration Metadata Registration</h3>

<p>
	  This specification registers the following client metadata definitions
	  in the IANA "OAuth Dynamic Client Registration Metadata" registry
	  <a class='info' href='#IANA.OAuth.Parameters'>[IANA.OAuth.Parameters]<span> (</span><span class='info'>IANA, &ldquo;OAuth Parameters,&rdquo; .</span><span>)</span></a>
	  established by <a class='info' href='#RFC7591'>[RFC7591]<span> (</span><span class='info'>Richer, J., Ed., Jones, M., Bradley, J., Machulak, M., and P. Hunt, &ldquo;OAuth 2.0 Dynamic Client Registration Protocol,&rdquo; July&nbsp;2015.</span><span>)</span></a>:
	
</p>
<a name="DynRegContents"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.1"></a><h3>6.2.1.&nbsp;
Registry Contents</h3>

<p> 
	    </p>
<ul class="text">
<li>
		Client Metadata Name: <tt>logout_uri</tt>
	      
</li>
<li>
		Client Metadata Description:
		RP URL that will cause the RP to log itself out
		when rendered in an iframe by the OP
	      
</li>
<li>
		Change Controller: OpenID Foundation Artifact Binding Working Group - openid-specs-ab@lists.openid.net
	      
</li>
<li>
		Specification Document(s): <a class='info' href='#RPLogout'>Section&nbsp;2<span> (</span><span class='info'>Relying Party Logout Functionality</span><span>)</span></a> of this document
	      
</li>
</ul><p>
	  
</p>
<p>
	    </p>
<ul class="text">
<li>
		Client Metadata Name: <tt>logout_session_required</tt>
	      
</li>
<li>
		Client Metadata Description:
		Boolean value specifying whether the RP requires that
		a <tt>sid</tt> (session ID)
		query parameter be included to identify the RP session at the OP
		when the <tt>logout_uri</tt> is used
	      
</li>
<li>
		Change Controller: OpenID Foundation Artifact Binding Working Group - openid-specs-ab@lists.openid.net
	      
</li>
<li>
		Specification Document(s): <a class='info' href='#RPLogout'>Section&nbsp;2<span> (</span><span class='info'>Relying Party Logout Functionality</span><span>)</span></a> of this document
	      
</li>
</ul><p>
	  
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="IANA.JWT.Claims">[IANA.JWT.Claims]</a></td>
<td class="author-text">IANA, &ldquo;<a href="http://www.iana.org/assignments/jwt">JSON Web Token Claims</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="IANA.OAuth.Parameters">[IANA.OAuth.Parameters]</a></td>
<td class="author-text">IANA, &ldquo;<a href="http://www.iana.org/assignments/oauth-parameters">OAuth Parameters</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Core">[OpenID.Core]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., and C. Mortimore, &ldquo;<a href="http://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a>,&rdquo; November&nbsp;2014.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Discovery">[OpenID.Discovery]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., Jones, M., and E. Jay, &ldquo;<a href="http://openid.net/specs/openid-connect-discovery-1_0.html">OpenID Connect Discovery 1.0</a>,&rdquo; November&nbsp;2014.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Registration">[OpenID.Registration]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., and M. Jones, &ldquo;<a href="http://openid.net/specs/openid-connect-registration-1_0.html">OpenID Connect Dynamic Client Registration 1.0</a>,&rdquo; November&nbsp;2014.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Session">[OpenID.Session]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;<a href="http://openid.net/specs/openid-connect-session-1_0.html">OpenID Connect Session Management 1.0</a>,&rdquo; August&nbsp;2015.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text">Bradner, S., &ldquo;<a href="http://www.rfc-editor.org/info/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, DOI&nbsp;10.17487/RFC2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text">Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;<a href="http://www.rfc-editor.org/info/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, DOI&nbsp;10.17487/RFC3986, January&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC6749">[RFC6749]</a></td>
<td class="author-text">Hardt, D., Ed., &ldquo;<a href="http://www.rfc-editor.org/info/rfc6749">The OAuth 2.0 Authorization Framework</a>,&rdquo; RFC&nbsp;6749, DOI&nbsp;10.17487/RFC6749, October&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC7230">[RFC7230]</a></td>
<td class="author-text">Fielding, R., Ed. and J. Reschke, Ed., &ldquo;<a href="http://www.rfc-editor.org/info/rfc7230">Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</a>,&rdquo; RFC&nbsp;7230, DOI&nbsp;10.17487/RFC7230, June&nbsp;2014.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="JWT">[JWT]</a></td>
<td class="author-text">Jones, M., Bradley, J., and N. Sakimura, &ldquo;<a href="http://tools.ietf.org/html/rfc7519">JSON Web Token (JWT)</a>,&rdquo; RFC&nbsp;7519, DOI&nbsp;10.17487/RFC7519, May&nbsp;2015.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC7591">[RFC7591]</a></td>
<td class="author-text">Richer, J., Ed., Jones, M., Bradley, J., Machulak, M., and P. Hunt, &ldquo;<a href="http://www.rfc-editor.org/info/rfc7591">OAuth 2.0 Dynamic Client Registration Protocol</a>,&rdquo; RFC&nbsp;7591, DOI&nbsp;10.17487/RFC7591, July&nbsp;2015.</td></tr>
</table>

<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgements</h3>

<p>
	The OpenID Community would like to thank the following people for
	their contributions to this specification:
      
</p>
<p>
        </p>
<blockquote class="text">
<p>John Bradley (ve7jtb@ve7jtb.com), Ping Identity
</p>
<p>Brian Campbell (bcampbell@pingidentity.com), Ping Identity
</p>
<p>Michael B. Jones (mbj@microsoft.com), Microsoft
</p>
<p>Torsten Lodderstedt (t.lodderstedt@telekom.de), Deutsche Telekom
</p>
</blockquote><p>
      
</p>
<a name="Notices"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Notices</h3>

<p>Copyright (c) 2015 The OpenID Foundation.
</p>
<p>The OpenID Foundation (OIDF) grants to any Contributor, developer,
      implementer, or other interested party a non-exclusive, royalty free,
      worldwide copyright license to reproduce, prepare derivative works from,
      distribute, perform and display, this Implementers Draft or Final
      Specification solely for the purposes of (i) developing specifications,
      and (ii) implementing Implementers Drafts and Final Specifications based
      on such documents, provided that attribution be made to the OIDF as the
      source of the material, but that such attribution does not indicate an
      endorsement by the OIDF.
</p>
<p>The technology described in this specification was made available
      from contributions from various sources, including members of the OpenID
      Foundation and others. Although the OpenID Foundation has taken steps to
      help ensure that the technology is available for distribution, it takes
      no position regarding the validity or scope of any intellectual property
      or other rights that might be claimed to pertain to the implementation
      or use of the technology described in this specification or the extent
      to which any license under such rights might or might not be available;
      neither does it represent that it has made any independent effort to
      identify any such rights. The OpenID Foundation and the contributors to
      this specification make no (and hereby expressly disclaim any)
      warranties (express, implied, or otherwise), including implied
      warranties of merchantability, non-infringement, fitness for a
      particular purpose, or title, related to this specification, and the
      entire risk as to implementing this specification is assumed by the
      implementer. The OpenID Intellectual Property Rights policy requires
      contributors to offer a patent promise not to assert certain patent
      claims against other contributors and against implementers. The OpenID
      Foundation invites any interested party to bring to its attention any
      copyrights, patents, patent applications, or other proprietary rights
      that may cover technology that may be required to practice this
      specification.
</p>
<a name="History"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Document History</h3>

<p>[[ To be removed from the final specification ]]
</p>
<p>
	-02
	</p>
<ul class="text">
<li>
	    Tracked terminology changes made in the referenced IETF specs since errata set 1.
	  
</li>
<li>
	    Registered the <tt>sid</tt> (session ID) claim.
	  
</li>
<li>
	    Registered the <tt>logout_uri</tt> and
	    <tt>logout_session_required</tt> client metadata values.
	  
</li>
<li>
	    Stated that the RP's logout response SHOULD include <tt>Cache-Control</tt>
	    directives keeping the response from being cached.
	  
</li>
<li>
	    Added syntax requirements for logout URIs.
	  
</li>
</ul><p>
      
</p>
<p>
	-01
	</p>
<ul class="text">
<li>
	    Simplified to always use iframes, rather than a combination of
	    images and iframes.
	  
</li>
</ul><p>
      
</p>
<p>
	-00
	</p>
<ul class="text">
<li>
	    Wrote the initial version based on the proposal circulated as a Word doc.
	  
</li>
</ul><p>
      
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael B. Jones</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:mbj@microsoft.com">mbj@microsoft.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://self-issued.info/">http://self-issued.info/</a></td></tr>
</table>
</body></html>
